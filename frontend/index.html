<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ChoreStar - Make chores fun with stars, progress tracking, and family rewards">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ChoreStar">
    <title>ChoreStar - Family Chore Chart</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ </text></svg>">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik05NiA0OEM3Ny4xNjQ5IDQ4IDYyIDYzLjE2NDkgNjIgODJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjgyQzEzMCA2My4xNjQ5IDExNC44MzUgNDggOTYgNDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTEwIDEwNkMxMTAgOTcuNzE2NSA5OS4yODM1IDg3IDEwMCA4N0MxMDAuNzE2NSA4NyAxMTAgOTcuNzE2NSAxMTAgMTA2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTgyIDEwNkM4MiA5Ny43MTY1IDkyLjcxNjUgODcgOTIgODdDOTIuNzE2NSA4NyA4MiA5Ny43MTY1IDgyIDEwNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik05NiAxNTZDNzcuMTY0OSAxNTYgNjIgMTQwLjgzNSA2MiAxMjJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjEyMkMxMzAgMTQwLjgzNSAxMTQuODM1IDE1NiA5NiAxNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTEwIDEwNkMxMTAgOTcuNzE2NSA5OS4yODM1IDg3IDEwMCA4N0MxMDAuNzE2NSA4NyAxMTAgOTcuNzE2NSAxMTAgMTA2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTgyIDEwNkM4MiA5Ny43MTY1IDkyLjcxNjUgODcgOTIgODdDOTIuNzE2NSA4NyA4MiA5Ny43MTY1IDgyIDEwNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik05NiAxNTZDNzcuMTY0OSAxNTYgNjIgMTQwLjgzNSA2MiAxMjJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjEyMkMxMzAgMTQwLjgzNSAxMTQuODM1IDE1NiA5NiAxNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyXzFfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMTkyIiB5Mj0iMTkyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2NjdlZWEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzY0YmEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-746ST4RH2E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-746ST4RH2E', {
            page_title: 'ChoreStar - Family Chore Chart',
            custom_map: {
                'custom_parameter_1': 'user_type',
                'custom_parameter_2': 'subscription_status',
                'custom_parameter_3': 'children_count'
            }
        });
    </script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Loading Family Chore Chart...</h2>
            <p>Getting everything ready for your family! ğŸ </p>
        </div>
    </div>

    <!-- Auth Container -->
    <div id="auth-container" class="auth-container hidden">
        <div class="auth-card">
            <div class="auth-header">
                <h1>ğŸ  Family Chore Chart</h1>
                <p>Track chores, earn rewards, and have fun together!</p>
            </div>
            
            <!-- Login Form -->
            <form id="login-form" class="auth-form">
                <h2>Welcome Back!</h2>
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="remember-me" checked>
                        <span class="checkmark"></span>
                        Remember me
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">Sign In</button>
                <p class="auth-switch">
                    Don't have an account? 
                    <a href="#" id="show-signup">Create one here</a>
                </p>
                <p class="auth-switch">
                    <a href="#" id="forgot-password">Forgot password?</a>
                </p>
            </form>
            
            <!-- Signup Form -->
            <form id="signup-form" class="auth-form hidden">
                <h2>Create Family Account</h2>
                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" required>
                </div>
                <div class="form-group">
                    <label for="signup-family-name">Family Name</label>
                    <input type="text" id="signup-family-name" required placeholder="e.g., The Smith Family">
                </div>
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="signup-confirm-password">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" required minlength="6">
                </div>
                <button type="submit" class="btn btn-primary">Create Account</button>
                <p class="auth-switch">
                    Already have an account? 
                    <a href="#" id="show-login">Sign in here</a>
                </p>
            </form>
            
            <!-- Forgot Password Form -->
            <form id="forgot-form" class="auth-form hidden">
                <h2>Reset Password</h2>
                <p>Enter your email and we'll send you a reset link.</p>
                <div class="form-group">
                    <label for="forgot-email">Email</label>
                    <input type="email" id="forgot-email" required>
                </div>
                <button type="submit" class="btn btn-primary">Send Reset Link</button>
                <p class="auth-switch">
                    <a href="#" id="back-to-login">Back to login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <h1>ğŸ  Family Chore Chart</h1>
                    <p id="family-name">Loading...</p>
                </div>
                <div class="header-right">
                    <!-- Hamburger menu for mobile -->
                    <button class="btn btn-outline hamburger-menu-btn" id="hamburger-menu-btn" title="Menu">
                        <span class="hamburger-icon">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </button>
                    
                    <!-- Desktop navigation buttons -->
                    <div class="desktop-nav">
                        <button class="btn btn-outline" id="theme-toggle" title="Toggle Dark Mode">
                            <span class="toggle-icon">ğŸŒ™</span>
                            <span class="toggle-label">Dark Mode</span>
                        </button>
                        <button class="btn btn-outline" id="sound-toggle" title="Toggle Sounds">
                            <span class="toggle-icon">ğŸ”Š</span>
                            <span class="toggle-label">Sounds</span>
                        </button>
                        <button class="btn btn-outline" id="faq-btn" title="Frequently Asked Questions">â“ FAQ</button>
                        <button class="btn btn-outline" id="contact-btn" title="Contact Support">ğŸ“§ Contact</button>
                        <button class="btn btn-outline" id="settings-btn">âš™ï¸ Settings</button>
                        <button class="btn btn-outline" id="logout-btn">ğŸšª Logout</button>
                    </div>
                </div>
            </div>
            
            <!-- Mobile slide-out menu -->
            <div class="mobile-menu-overlay" id="mobile-menu-overlay"></div>
            <div class="mobile-menu" id="mobile-menu">
                <div class="mobile-menu-header">
                    <h3>Menu</h3>
                    <button class="mobile-menu-close" id="mobile-menu-close">&times;</button>
                </div>
                <div class="mobile-menu-content">
                    <div class="mobile-menu-section">
                        <h4>Quick Actions</h4>
                        <button class="mobile-menu-btn" id="mobile-theme-toggle">
                            <span class="mobile-menu-icon">ğŸŒ™</span>
                            <span class="mobile-menu-text">Dark Mode</span>
                        </button>
                        <button class="mobile-menu-btn" id="mobile-sound-toggle">
                            <span class="mobile-menu-icon">ğŸ”Š</span>
                            <span class="mobile-menu-text">Sounds</span>
                        </button>
                    </div>
                    
                    <div class="mobile-menu-section">
                        <h4>Support & Settings</h4>
                        <button class="mobile-menu-btn" id="mobile-faq-btn">
                            <span class="mobile-menu-icon">â“</span>
                            <span class="mobile-menu-text">FAQ</span>
                        </button>
                        <button class="mobile-menu-btn" id="mobile-contact-btn">
                            <span class="mobile-menu-icon">ğŸ“§</span>
                            <span class="mobile-menu-text">Contact</span>
                        </button>
                        <button class="mobile-menu-btn" id="mobile-settings-btn">
                            <span class="mobile-menu-icon">âš™ï¸</span>
                            <span class="mobile-menu-text">Settings</span>
                        </button>
                    </div>
                    
                    <div class="mobile-menu-section">
                        <h4>Account</h4>
                        <button class="mobile-menu-btn mobile-menu-btn-danger" id="mobile-logout-btn">
                            <span class="mobile-menu-icon">ğŸšª</span>
                            <span class="mobile-menu-text">Logout</span>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Children Tabs -->
            <div class="children-tabs" id="children-tabs">
                <!-- Child tabs will be dynamically generated here -->
            </div>
            
            <!-- Children Content -->
            <div class="children-content" id="children-content">
                <!-- Child content will be dynamically generated here -->
            </div>

            <!-- Empty State -->
            <div id="empty-state" class="empty-state hidden">
                <div class="empty-bg"></div>
                <div class="empty-content">
                    <div class="empty-emoji">ğŸ‘¶</div>
                    <div class="empty-emoji-row">ğŸ‘§ğŸ» ğŸ§’ğŸ¼ ğŸ‘¦ğŸ½ ğŸ‘¶ğŸ¾</div>
                    <h2>Welcome to Your Family Chore Chart!</h2>
                    <p>Start by adding your first child to begin tracking chores and rewards.</p>
                    <div class="empty-how-it-works">
                        <div class="how-step"><span>â•</span><div>Add a child</div></div>
                        <div class="how-step"><span>ğŸ“</span><div>Add chores</div></div>
                        <div class="how-step"><span>ğŸŒŸ</span><div>Track progress & rewards</div></div>
                    </div>
                    <div class="empty-blurb">Make chores fun, build good habits, and celebrate your family's progress!</div>
                    <button id="empty-add-child-btn" class="btn btn-primary"><span>ğŸ‘¶</span> Add Your Child</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    
    <!-- Add Child Modal -->
    <div id="add-child-modal" class="modal hidden">
        <div class="modal-content modal-flex">
            <div class="modal-header">
                <h2>ğŸ‘¶ Add New Child</h2>
                <button class="modal-close" data-modal="add-child-modal">&times;</button>
            </div>
            <div class="modal-body-flex">
                <div class="avatar-col">
                    <div id="add-child-avatar-preview-circle" class="avatar-circle">A</div>
                </div>
                <form id="add-child-form" class="modal-form form-col">
                    <div class="fields-row">
                        <div class="form-group">
                            <label for="child-name">Child's Name</label>
                            <input type="text" id="child-name" required placeholder="e.g., Emma">
                        </div>
                        <div class="form-group">
                            <label for="child-age">Age</label>
                            <input type="number" id="child-age" min="1" max="18" required>
                        </div>
                        <div class="form-group">
                            <label for="child-color">Avatar Color</label>
                            <div class="color-picker-row" style="display: flex; align-items: center; gap: 8px;">
                                <span id="add-selected-color" class="color-preset selected-color-circle" style="background: #6366f1;"></span>
                                <input type="color" id="child-color" value="#6366f1">
                                <div class="color-presets">
                                    <button type="button" class="color-preset" data-color="#6366f1" style="background: #6366f1;"></button>
                                    <button type="button" class="color-preset" data-color="#10b981" style="background: #10b981;"></button>
                                    <button type="button" class="color-preset" data-color="#f59e0b" style="background: #f59e0b;"></button>
                                    <button type="button" class="color-preset" data-color="#ef4444" style="background: #ef4444;"></button>
                                    <button type="button" class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6;"></button>
                                    <button type="button" class="color-preset" data-color="#ec4899" style="background: #ec4899;"></button>
                                </div>
                            </div>
                            <small class="help-text" style="margin-top: 4px; color: var(--gray-600); font-size: 0.875rem;">Click the color picker for custom colors or choose from the preset swatches</small>
                        </div>
                    </div>
                    <div class="actions-row" style="display: flex; align-items: center; gap: 16px;">
                        <span class="avatar-upload-preview" id="child-avatar-preview"></span>
                    </div>
                    <div class="dicebear-row">
                        <div id="add-dicebear-picker" style="display:flex;gap:8px;margin:8px 0;"></div>
                        <button type="button" id="add-avatar-remove-btn" class="btn btn-outline">Remove Avatar</button>

                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="add-child-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Child</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Child Modal (mirrors Add Child modal) -->
    <div id="edit-child-modal" class="modal hidden">
        <div class="modal-content modal-flex">
            <div class="modal-header">
                <h2>ğŸ‘¶ Edit Child</h2>
                <button class="modal-close" data-modal="edit-child-modal">&times;</button>
            </div>
            <div class="modal-body-flex">
                <div class="avatar-col">
                    <div id="edit-child-avatar-preview-circle" class="avatar-circle">A</div>
                </div>
                <form id="edit-child-form" class="modal-form form-col">
                    <div class="fields-row">
                        <div class="form-group">
                            <label for="edit-child-name">Child's Name</label>
                            <input type="text" id="edit-child-name" required placeholder="e.g., Emma">
                        </div>
                        <div class="form-group">
                            <label for="edit-child-age">Age</label>
                            <input type="number" id="edit-child-age" min="1" max="18" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-child-color">Avatar Color</label>
                            <div class="color-picker-row" style="display: flex; align-items: center; gap: 8px;">
                                <span id="edit-selected-color" class="color-preset selected-color-circle" style="background: #6366f1;"></span>
                                <input type="color" id="edit-child-color" value="#6366f1">
                                <div class="color-presets">
                                    <button type="button" class="color-preset" data-color="#6366f1" style="background: #6366f1;"></button>
                                    <button type="button" class="color-preset" data-color="#10b981" style="background: #10b981;"></button>
                                    <button type="button" class="color-preset" data-color="#f59e0b" style="background: #f59e0b;"></button>
                                    <button type="button" class="color-preset" data-color="#ef4444" style="background: #ef4444;"></button>
                                    <button type="button" class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6;"></button>
                                    <button type="button" class="color-preset" data-color="#ec4899" style="background: #ec4899;"></button>
                                </div>
                            </div>
                            <small class="help-text" style="margin-top: 4px; color: var(--gray-600); font-size: 0.875rem;">Click the color picker for custom colors or choose from the preset swatches</small>
                        </div>
                    </div>
                    <div class="actions-row" style="display: flex; align-items: center; gap: 16px;">
                        <span class="avatar-upload-preview" id="edit-child-avatar-preview"></span>
                    </div>
                    <div class="dicebear-row">
                        <div id="edit-dicebear-picker" style="display:flex;gap:8px;margin:8px 0;"></div>
                        <button type="button" id="edit-avatar-remove-btn" class="btn btn-outline">Remove Avatar</button>

                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="edit-child-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Chore Modal -->
    <div id="add-chore-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“ Add New Chores</h2>
                <button class="modal-close" data-modal="add-chore-modal">&times;</button>
            </div>
            <form id="add-chore-form" class="modal-form">
                <div class="form-group">
                    <label for="chore-child">For Child</label>
                    <select id="chore-child" required>
                        <option value="">Select a child...</option>
                    </select>
                </div>
                
                <div id="chores-container">
                    <div class="chore-entry">
                        <div class="chore-entry-header">
                            <h3>Chore #1</h3>
                            <button type="button" class="btn btn-outline btn-sm remove-chore" style="display: none;">Remove</button>
                        </div>
                        <div class="form-group">
                            <label for="chore-name-1">Chore Name</label>
                            <input type="text" id="chore-name-1" required placeholder="e.g., Make bed">
                        </div>
                        
                        <!-- Premium Features -->
                        <div class="premium-features" id="premium-chore-features-1" style="display: none;">
                            <div class="form-group">
                                <label for="chore-color-1">Chore Color</label>
                                <div class="color-picker-row" style="display: flex; align-items: center; gap: var(--space-2);">
                                    <input type="color" id="chore-color-1" value="#ff6b6b" style="width: 48px; height: 32px; border: none; background: none; cursor: pointer;">
                                    <div class="color-presets" style="display: flex; gap: var(--space-1);">
                                        <button type="button" class="color-preset" data-color="#ff6b6b" style="width: 24px; height: 24px; background: #ff6b6b; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                        <button type="button" class="color-preset" data-color="#4ecdc4" style="width: 24px; height: 24px; background: #4ecdc4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                        <button type="button" class="color-preset" data-color="#45b7d1" style="width: 24px; height: 24px; background: #45b7d1; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                        <button type="button" class="color-preset" data-color="#96ceb4" style="width: 24px; height: 24px; background: #96ceb4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                        <button type="button" class="color-preset" data-color="#feca57" style="width: 24px; height: 24px; background: #feca57; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                        <button type="button" class="color-preset" data-color="#ff9ff3" style="width: 24px; height: 24px; background: #ff9ff3; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-icon-1">Chore Icon</label>
                                <div class="icon-picker" id="icon-picker-1">
                                    <!-- Household Chores -->
                                    <button type="button" class="icon-option active" data-icon="ğŸ“">ğŸ“</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ›ï¸">ğŸ›ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§¹">ğŸ§¹</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§º">ğŸ§º</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ½ï¸">ğŸ½ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸš¿">ğŸš¿</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§½">ğŸ§½</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ—‘ï¸">ğŸ—‘ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸšª">ğŸšª</button>
                                    <button type="button" class="icon-option" data-icon="ğŸªŸ">ğŸªŸ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸª‘">ğŸª‘</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ›‹ï¸">ğŸ›‹ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ–¼ï¸">ğŸ–¼ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ”Œ">ğŸ”Œ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ”‹">ğŸ”‹</button>
                                    
                                    <!-- Clothing & Personal Care -->
                                    <button type="button" class="icon-option" data-icon="ğŸ‘•">ğŸ‘•</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ‘–">ğŸ‘–</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ‘Ÿ">ğŸ‘Ÿ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§¸">ğŸ§¸</button>
                                    
                                    <!-- School & Learning -->
                                    <button type="button" class="icon-option" data-icon="ğŸ“š">ğŸ“š</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ“–">ğŸ“–</button>
                                    <button type="button" class="icon-option" data-icon="âœï¸">âœï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¨">ğŸ¨</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§ ">ğŸ§ </button>
                                    
                                    <!-- Technology -->
                                    <button type="button" class="icon-option" data-icon="ğŸ“±">ğŸ“±</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’»">ğŸ’»</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ®">ğŸ®</button>
                                    
                                    <!-- Pets & Animals -->
                                    <button type="button" class="icon-option" data-icon="ğŸ•">ğŸ•</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ±">ğŸ±</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¦">ğŸ¦</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                                    
                                    <!-- Plants & Nature -->
                                    <button type="button" class="icon-option" data-icon="ğŸŒ±">ğŸŒ±</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒº">ğŸŒº</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒ³">ğŸŒ³</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒ¿">ğŸŒ¿</button>
                                    <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒ§ï¸">ğŸŒ§ï¸</button>
                                    <button type="button" class="icon-option" data-icon="â˜€ï¸">â˜€ï¸</button>
                                    <button type="button" class="icon-option" data-icon="â„ï¸">â„ï¸</button>
                                    
                                    <!-- Transportation -->
                                    <button type="button" class="icon-option" data-icon="ğŸš—">ğŸš—</button>
                                    <button type="button" class="icon-option" data-icon="ğŸš²">ğŸš²</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ›´">ğŸ›´</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¡">ğŸ¡</button>
                                    
                                    <!-- Sports & Activities -->
                                    <button type="button" class="icon-option" data-icon="âš½">âš½</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ€">ğŸ€</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¾">ğŸ¾</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸš´">ğŸš´</button>
                                    <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§˜">ğŸ§˜</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’ª">ğŸ’ª</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¯">ğŸ¯</button>
                                    
                                    <!-- Music & Arts -->
                                    <button type="button" class="icon-option" data-icon="ğŸµ">ğŸµ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¤">ğŸ¤</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ§">ğŸ§</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¸">ğŸ¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¥">ğŸ¥</button>
                                    <button type="button" class="icon-option" data-icon="ğŸº">ğŸº</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ»">ğŸ»</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¼">ğŸ¼</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ­">ğŸ­</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ¬">ğŸ¬</button>
                                    
                                    <!-- Celebrations & Fun -->
                                    <button type="button" class="icon-option" data-icon="ğŸ‰">ğŸ‰</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸˆ">ğŸˆ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ">ğŸ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ„">ğŸ„</button>
                                    <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                    <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                                    
                                    <!-- Emotions & Symbols -->
                                    <button type="button" class="icon-option" data-icon="â¤ï¸">â¤ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒŸ">ğŸŒŸ</button>
                                    <button type="button" class="icon-option" data-icon="â­">â­</button>
                                    <button type="button" class="icon-option" data-icon="âœ¨">âœ¨</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ†">ğŸ†</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ–ï¸">ğŸ–ï¸</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ‘‘">ğŸ‘‘</button>
                                    <button type="button" class="icon-option" data-icon="ğŸ’«">ğŸ’«</button>
                                    <button type="button" class="icon-option" data-icon="ğŸŒˆ">ğŸŒˆ</button>
                                </div>
                                <input type="hidden" id="chore-icon-1" value="ğŸ“">
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-category-1">Category</label>
                                <select id="chore-category-1">
                                    <option value="General">General</option>
                                    <option value="Kitchen">Kitchen</option>
                                    <option value="Bedroom">Bedroom</option>
                                    <option value="Bathroom">Bathroom</option>
                                    <option value="Outdoor">Outdoor</option>
                                    <option value="School">School</option>
                                    <option value="Pets">Pets</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-notes-1">Notes (Optional)</label>
                                <input type="text" id="chore-notes-1" placeholder="e.g., Remember to use soap!" />
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <small style="color: var(--gray-600);">Each completed day earns 7Â¢</small>
                        </div>
                        
                        <div class="premium-upgrade-prompt" id="premium-upgrade-prompt-1" style="display: none;">
                            <div class="upgrade-banner">
                                <span>ğŸŒŸ</span>
                                <span>Upgrade to Premium for custom colors, icons, categories, and more!</span>
                                <button type="button" class="btn btn-primary btn-sm" onclick="app.showUpgradeModal()">Upgrade</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="add-more-chore">
                        <span>â•</span> Add Another Chore
                    </button>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" data-modal="add-chore-modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add All Chores</button>
                </div>
            </form>
        </div>
    </div>



    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âš™ï¸ Family Settings</h2>
                <button class="modal-close" data-modal="settings-modal">&times;</button>
            </div>
            
            <!-- Settings Tabs -->
            <div class="settings-tabs" id="settings-tabs">
                <button class="tab-btn active" data-tab="rewards">
                    <span>ğŸ’°</span> Rewards
                </button>
                <button class="tab-btn" data-tab="manage-children">
                    <span>ğŸ‘¶</span> Manage Children
                </button>
                <button class="tab-btn" data-tab="chores">
                    <span>ğŸ“</span> Chores
                </button>

                <button class="tab-btn" data-tab="premium-features">
                    <span>ğŸŒŸ</span> Premium Features
                </button>
            </div>
            
            <!-- Rewards Tab -->
            <div id="rewards-tab" class="tab-content active">
                <div class="rewards-content">
                    <h3>ğŸ’° Reward Settings</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Configure how much children earn for completing chores.</p>
                    
                    <form id="settings-form">
                        <div class="rewards-row">
                            <div class="form-group">
                                <label for="daily-reward">Daily Reward (cents)</label>
                                <input type="number" id="daily-reward" min="1" max="100" value="7" required>
                                <small>Amount earned per day when all chores are completed</small>
                            </div>
                            <div class="form-group">
                                <label for="weekly-bonus">Weekly Bonus (cents)</label>
                                <input type="number" id="weekly-bonus" min="0" max="50" value="1" required>
                                <small>Bonus for completing all chores all week</small>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" data-modal="settings-modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Settings</button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- Manage Children Tab -->
            <div id="manage-children-tab" class="tab-content">
                <div class="manage-children-content">
                    <h3>ğŸ‘¶ Manage Your Children</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Edit or remove children from your family.</p>
                    
                    <div id="manage-children-list">
                        <!-- Children will be listed here -->
                    </div>
                    
                    <div style="text-align: center; margin-top: var(--space-6);">
                        <button class="btn btn-primary" onclick="app.showModal('add-child-modal')">
                            <span>â•</span> Add New Child
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Chores Tab -->
            <div id="chores-tab" class="tab-content">
                <div class="chores-management-content">
                    <h3>ğŸ“ Manage Chores</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Edit and organize chores for each child.</p>
                    
                    <div id="chores-management-tabs">
                        <!-- Child-specific chore tabs will be generated here -->
                    </div>
                    
                    <div id="chores-management-content">
                        <!-- Child-specific chore content will be generated here -->
                    </div>
                </div>
            </div>
            

            
            <!-- Premium Features Tab -->
            <div id="premium-features-tab" class="tab-content">
                <div class="premium-features-content">
                    <h3>ğŸŒŸ Premium Features</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Unlock advanced features to make chore management even more fun!</p>
                    
                    <div class="premium-features-grid">
                        <div class="premium-feature-card">
                            <div class="feature-icon">ğŸ¨</div>
                            <h4>Custom Chore Icons</h4>
                            <p>Choose from 8 different icons for each chore to make them more visual and fun!</p>
                            <span class="premium-lock">Premium Feature</span>
                        </div>
                        
                        <div class="premium-feature-card">
                            <div class="feature-icon">ğŸ“‚</div>
                            <h4>Chore Categories</h4>
                            <p>Organize chores by category: Kitchen, Bedroom, Bathroom, Outdoor, and more!</p>
                            <span class="premium-lock">Premium Feature</span>
                        </div>
                        
                        <div class="premium-feature-card">
                            <div class="feature-icon">ğŸ†</div>
                            <h4>Achievement Badges</h4>
                            <p>Earn badges for completing milestones and maintaining streaks!</p>
                            <span class="premium-lock">Premium Feature</span>
                        </div>
                        
                        <div class="premium-feature-card">
                            <div class="feature-icon">ğŸ“Š</div>
                            <h4>Export Reports</h4>
                            <p>Download detailed reports of your family's chore progress and achievements!</p>
                            <span class="premium-lock">Premium Feature</span>
                        </div>
                    </div>
                    
                    <div class="export-section">
                        <h4>ğŸ“Š Export Family Report</h4>
                        <p>Download a comprehensive report of your family's chore progress and achievements.</p>
                        <button class="export-button" onclick="app.exportFamilyReport()">
                            ğŸ“¥ Export Report
                        </button>
                    </div>
                    
                    <div style="text-align: center; margin-top: var(--space-6);">
                        <button class="btn btn-primary" onclick="app.showUpgradeModal()">
                            <span>ğŸŒŸ</span> Upgrade to Premium
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Child Chores Tabs -->
            <!-- Child tab content will be dynamically generated here -->
            

        </div>
    </div>

    <!-- Family Sharing Modal -->
    <div id="family-sharing-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Sharing</h2>
                <button class="modal-close" data-modal="family-sharing-modal">&times;</button>
            </div>
            <div class="modal-form">
                <div class="family-sharing-content">
                    <div class="share-family-section">
                        <h3>ğŸ“¤ Share Your Family</h3>
                        <p>Share this code with family members to let them join your ChoreStar family!</p>
                        <div class="family-code-display">
                            <div class="code-box">
                                <span id="family-code">Loading...</span>
                                <button class="btn btn-secondary btn-sm" onclick="app.copyFamilyCode()">
                                    ğŸ“‹ Copy
                                </button>
                            </div>
                        </div>
                        <div class="family-members">
                            <h4>ğŸ‘¥ Family Members</h4>
                            <div id="family-members-list">
                                <!-- Family members will be listed here -->
                            </div>
                        </div>
                    </div>
                    
                    <hr style="margin: var(--space-6) 0; border: none; border-top: 1px solid var(--gray-200);">
                    
                    <div class="join-family-section">
                        <h3>ğŸ“¥ Join a Family</h3>
                        <p>Enter a 6-digit family code to join another family's ChoreStar!</p>
                        <form id="join-family-form" class="join-family-form">
                            <div class="form-group">
                                <label for="join-family-code">Family Code</label>
                                <input type="text" id="join-family-code" maxlength="6" placeholder="123456" required>
                                <small>Enter the 6-digit code shared with you</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Join Family</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>
    </div>
    <!-- Bulk Edit Chores Modal -->
    <div id="bulk-edit-chores-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœï¸ Bulk Edit Chores</h2>
                <button class="modal-close" data-modal="bulk-edit-chores-modal">&times;</button>
            </div>
            <div class="bulk-edit-content">
                <div class="bulk-edit-selection">
                    <h3>Select Chores to Edit</h3>
                    <div id="bulk-edit-chores-list">
                        <!-- Chores will be listed here with checkboxes -->
                    </div>
                </div>
                
                <div class="bulk-edit-fields">
                    <h3>Edit Selected Chores</h3>
                    <form id="bulk-edit-form" class="modal-form">
                        <div class="form-group">
                            <label for="bulk-edit-reward">Reward (cents)</label>
                            <input type="number" id="bulk-edit-reward" min="1" max="100" placeholder="Leave empty to keep current">
                            <small>Amount earned when these chores are completed</small>
                        </div>
                        

                        
                        <div class="form-group">
                            <label for="bulk-edit-icon">Chore Icon</label>
                            <div class="icon-picker" id="bulk-edit-icon-picker">
                                <button type="button" class="icon-option" data-icon="">No Change</button>
                                <button type="button" class="icon-option" data-icon="ğŸ“">ğŸ“</button>
                                <button type="button" class="icon-option" data-icon="ğŸ›ï¸">ğŸ›ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§¹">ğŸ§¹</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§º">ğŸ§º</button>
                                <button type="button" class="icon-option" data-icon="ğŸ½ï¸">ğŸ½ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸš¿">ğŸš¿</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§½">ğŸ§½</button>
                                <button type="button" class="icon-option" data-icon="ğŸ—‘ï¸">ğŸ—‘ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸšª">ğŸšª</button>
                                <button type="button" class="icon-option" data-icon="ğŸªŸ">ğŸªŸ</button>
                                <button type="button" class="icon-option" data-icon="ğŸª‘">ğŸª‘</button>
                                <button type="button" class="icon-option" data-icon="ğŸ›‹ï¸">ğŸ›‹ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                                <button type="button" class="icon-option" data-icon="ğŸ–¼ï¸">ğŸ–¼ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</button>
                                <button type="button" class="icon-option" data-icon="ğŸ”Œ">ğŸ”Œ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ”‹">ğŸ”‹</button>
                                <button type="button" class="icon-option" data-icon="ğŸ‘•">ğŸ‘•</button>
                                <button type="button" class="icon-option" data-icon="ğŸ‘–">ğŸ‘–</button>
                                <button type="button" class="icon-option" data-icon="ğŸ‘Ÿ">ğŸ‘Ÿ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§¸">ğŸ§¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ“š">ğŸ“š</button>
                                <button type="button" class="icon-option" data-icon="ğŸ“–">ğŸ“–</button>
                                <button type="button" class="icon-option" data-icon="âœï¸">âœï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¨">ğŸ¨</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§ ">ğŸ§ </button>
                                <button type="button" class="icon-option" data-icon="ğŸ“±">ğŸ“±</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’»">ğŸ’»</button>
                                <button type="button" class="icon-option" data-icon="ğŸ®">ğŸ®</button>
                                <button type="button" class="icon-option" data-icon="ğŸ•">ğŸ•</button>
                                <button type="button" class="icon-option" data-icon="ğŸ±">ğŸ±</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¦">ğŸ¦</button>
                                <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                                <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒ±">ğŸŒ±</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒº">ğŸŒº</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒ³">ğŸŒ³</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒ¿">ğŸŒ¿</button>
                                <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒ§ï¸">ğŸŒ§ï¸</button>
                                <button type="button" class="icon-option" data-icon="â˜€ï¸">â˜€ï¸</button>
                                <button type="button" class="icon-option" data-icon="â„ï¸">â„ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸš—">ğŸš—</button>
                                <button type="button" class="icon-option" data-icon="ğŸš²">ğŸš²</button>
                                <button type="button" class="icon-option" data-icon="ğŸ›´">ğŸ›´</button>
                                <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                                <button type="button" class="icon-option" data-icon="ğŸ¡">ğŸ¡</button>
                                <button type="button" class="icon-option" data-icon="âš½">âš½</button>
                                <button type="button" class="icon-option" data-icon="ğŸ€">ğŸ€</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¾">ğŸ¾</button>
                                <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                                <button type="button" class="icon-option" data-icon="ğŸš´">ğŸš´</button>
                                <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§˜">ğŸ§˜</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’ª">ğŸ’ª</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¯">ğŸ¯</button>
                                <button type="button" class="icon-option" data-icon="ğŸµ">ğŸµ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¤">ğŸ¤</button>
                                <button type="button" class="icon-option" data-icon="ğŸ§">ğŸ§</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¸">ğŸ¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¥">ğŸ¥</button>
                                <button type="button" class="icon-option" data-icon="ğŸº">ğŸº</button>
                                <button type="button" class="icon-option" data-icon="ğŸ»">ğŸ»</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¼">ğŸ¼</button>
                                <button type="button" class="icon-option" data-icon="ğŸ­">ğŸ­</button>
                                <button type="button" class="icon-option" data-icon="ğŸ¬">ğŸ¬</button>
                                <button type="button" class="icon-option" data-icon="ğŸ‰">ğŸ‰</button>
                                <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                                <button type="button" class="icon-option" data-icon="ğŸˆ">ğŸˆ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ">ğŸ</button>
                                <button type="button" class="icon-option" data-icon="ğŸ„">ğŸ„</button>
                                <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                                <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                                <button type="button" class="icon-option" data-icon="â¤ï¸">â¤ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒŸ">ğŸŒŸ</button>
                                <button type="button" class="icon-option" data-icon="â­">â­</button>
                                <button type="button" class="icon-option" data-icon="âœ¨">âœ¨</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                                <button type="button" class="icon-option" data-icon="ğŸ†">ğŸ†</button>
                                <button type="button" class="icon-option" data-icon="ğŸ–ï¸">ğŸ–ï¸</button>
                                <button type="button" class="icon-option" data-icon="ğŸ‘‘">ğŸ‘‘</button>
                                <button type="button" class="icon-option" data-icon="ğŸ’«">ğŸ’«</button>
                                <button type="button" class="icon-option" data-icon="ğŸŒˆ">ğŸŒˆ</button>
                            </div>
                            <input type="hidden" id="bulk-edit-icon" value="">
                        </div>
                        
                        <div class="form-group">
                            <label for="bulk-edit-category">Category</label>
                            <select id="bulk-edit-category">
                                <option value="">No Change</option>
                                <option value="General">General</option>
                                <option value="Kitchen">Kitchen</option>
                                <option value="Bathroom">Bathroom</option>
                                <option value="Bedroom">Bedroom</option>
                                <option value="Outdoor">Outdoor</option>
                                <option value="School">School</option>
                                <option value="Personal">Personal</option>
                                <option value="Technology">Technology</option>
                                <option value="Pets">Pets</option>
                                <option value="Plants">Plants</option>
                            </select>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" onclick="app.hideModal('bulk-edit-chores-modal')">Cancel</button>
                            <button type="submit" class="btn btn-primary">Update Selected Chores</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Chore Modal -->
    <div id="edit-chore-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœï¸ Edit Chore</h2>
                <button class="modal-close" data-modal="edit-chore-modal">&times;</button>
            </div>
            <form id="edit-chore-form" class="modal-form">
                <div class="form-group">
                    <label for="edit-chore-name">Chore Name</label>
                    <input type="text" id="edit-chore-name" required placeholder="e.g., Make bed">
                </div>
                <div class="form-group">
                    <label for="edit-chore-child">For Child</label>
                    <input type="text" id="edit-chore-child" readonly style="background-color: var(--gray-100); color: var(--gray-600); border: 1px solid var(--gray-300); border-radius: 4px; padding: 8px 12px; width: 100%; box-sizing: border-box;">
                    <small>This chore belongs to the selected child</small>
                </div>
                <div class="form-group">
                    <label for="edit-chore-reward">Reward (cents)</label>
                    <input type="number" id="edit-chore-reward" min="1" max="100" value="7" required>
                    <small>Amount earned when this chore is completed</small>
                </div>
                <div class="form-group">
                    <label for="edit-chore-icon">Chore Icon</label>
                    <div class="icon-picker" id="edit-chore-icon-picker">
                        <!-- Household Chores -->
                        <button type="button" class="icon-option active" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-option" data-icon="ğŸ›ï¸">ğŸ›ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§¹">ğŸ§¹</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§º">ğŸ§º</button>
                        <button type="button" class="icon-option" data-icon="ğŸ½ï¸">ğŸ½ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸš¿">ğŸš¿</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§½">ğŸ§½</button>
                        <button type="button" class="icon-option" data-icon="ğŸ—‘ï¸">ğŸ—‘ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸšª">ğŸšª</button>
                        <button type="button" class="icon-option" data-icon="ğŸªŸ">ğŸªŸ</button>
                        <button type="button" class="icon-option" data-icon="ğŸª‘">ğŸª‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸ›‹ï¸">ğŸ›‹ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                        <button type="button" class="icon-option" data-icon="ğŸ–¼ï¸">ğŸ–¼ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”Œ">ğŸ”Œ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ”‹">ğŸ”‹</button>
                        
                        <!-- Clothing & Personal Care -->
                        <button type="button" class="icon-option" data-icon="ğŸ‘•">ğŸ‘•</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘–">ğŸ‘–</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘Ÿ">ğŸ‘Ÿ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§¸">ğŸ§¸</button>
                        
                        <!-- School & Learning -->
                        <button type="button" class="icon-option" data-icon="ğŸ“š">ğŸ“š</button>
                        <button type="button" class="icon-option" data-icon="ğŸ“–">ğŸ“–</button>
                        <button type="button" class="icon-option" data-icon="âœï¸">âœï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¨">ğŸ¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§ ">ğŸ§ </button>
                        
                        <!-- Technology -->
                        <button type="button" class="icon-option" data-icon="ğŸ“±">ğŸ“±</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’»">ğŸ’»</button>
                        <button type="button" class="icon-option" data-icon="ğŸ®">ğŸ®</button>
                        
                        <!-- Pets & Animals -->
                        <button type="button" class="icon-option" data-icon="ğŸ•">ğŸ•</button>
                        <button type="button" class="icon-option" data-icon="ğŸ±">ğŸ±</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¦">ğŸ¦</button>
                        <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                        <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                        
                        <!-- Plants & Nature -->
                        <button type="button" class="icon-option" data-icon="ğŸŒ±">ğŸŒ±</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒº">ğŸŒº</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ³">ğŸŒ³</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ¿">ğŸŒ¿</button>
                        <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒ§ï¸">ğŸŒ§ï¸</button>
                        <button type="button" class="icon-option" data-icon="â˜€ï¸">â˜€ï¸</button>
                        <button type="button" class="icon-option" data-icon="â„ï¸">â„ï¸</button>
                        
                        <!-- Transportation -->
                        <button type="button" class="icon-option" data-icon="ğŸš—">ğŸš—</button>
                        <button type="button" class="icon-option" data-icon="ğŸš²">ğŸš²</button>
                        <button type="button" class="icon-option" data-icon="ğŸ›´">ğŸ›´</button>
                        <button type="button" class="icon-option" data-icon="ğŸ ">ğŸ </button>
                        <button type="button" class="icon-option" data-icon="ğŸ¡">ğŸ¡</button>
                        
                        <!-- Sports & Activities -->
                        <button type="button" class="icon-option" data-icon="âš½">âš½</button>
                        <button type="button" class="icon-option" data-icon="ğŸ€">ğŸ€</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¾">ğŸ¾</button>
                        <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                        <button type="button" class="icon-option" data-icon="ğŸš´">ğŸš´</button>
                        <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§˜">ğŸ§˜</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’ª">ğŸ’ª</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¯">ğŸ¯</button>
                        
                        <!-- Music & Arts -->
                        <button type="button" class="icon-option" data-icon="ğŸµ">ğŸµ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¤">ğŸ¤</button>
                        <button type="button" class="icon-option" data-icon="ğŸ§">ğŸ§</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¹">ğŸ¹</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¸">ğŸ¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¥">ğŸ¥</button>
                        <button type="button" class="icon-option" data-icon="ğŸº">ğŸº</button>
                        <button type="button" class="icon-option" data-icon="ğŸ»">ğŸ»</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¼">ğŸ¼</button>
                        <button type="button" class="icon-option" data-icon="ğŸ­">ğŸ­</button>
                        <button type="button" class="icon-option" data-icon="ğŸ¬">ğŸ¬</button>
                        
                        <!-- Celebrations & Fun -->
                        <button type="button" class="icon-option" data-icon="ğŸ‰">ğŸ‰</button>
                        <button type="button" class="icon-option" data-icon="ğŸŠ">ğŸŠ</button>
                        <button type="button" class="icon-option" data-icon="ğŸˆ">ğŸˆ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ">ğŸ</button>
                        <button type="button" class="icon-option" data-icon="ğŸ„">ğŸ„</button>
                        <button type="button" class="icon-option" data-icon="ğŸƒ">ğŸƒ</button>
                        <button type="button" class="icon-option" data-icon="ğŸª">ğŸª</button>
                        
                        <!-- Emotions & Symbols -->
                        <button type="button" class="icon-option" data-icon="â¤ï¸">â¤ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒŸ">ğŸŒŸ</button>
                        <button type="button" class="icon-option" data-icon="â­">â­</button>
                        <button type="button" class="icon-option" data-icon="âœ¨">âœ¨</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’">ğŸ’</button>
                        <button type="button" class="icon-option" data-icon="ğŸ†">ğŸ†</button>
                        <button type="button" class="icon-option" data-icon="ğŸ–ï¸">ğŸ–ï¸</button>
                        <button type="button" class="icon-option" data-icon="ğŸ‘‘">ğŸ‘‘</button>
                        <button type="button" class="icon-option" data-icon="ğŸ’«">ğŸ’«</button>
                        <button type="button" class="icon-option" data-icon="ğŸŒˆ">ğŸŒˆ</button>
                    </div>
                    <input type="hidden" id="edit-chore-icon" value="ğŸ“">
                </div>
                
                <div class="form-group">
                    <label for="edit-chore-category">Category</label>
                    <select id="edit-chore-category">
                        <option value="General">General</option>
                        <option value="Kitchen">Kitchen</option>
                        <option value="Bathroom">Bathroom</option>
                        <option value="Bedroom">Bedroom</option>
                        <option value="Outdoor">Outdoor</option>
                        <option value="School">School</option>
                        <option value="Personal">Personal</option>
                        <option value="Technology">Technology</option>
                        <option value="Pets">Pets</option>
                        <option value="Plants">Plants</option>
                    </select>
                </div>
                
                <!-- Updated Premium-only color picker for edit chore modal -->
                <div class="edit-premium-features" id="edit-premium-features" style="display:none;">
                    <div class="form-group">
                        <label for="edit-chore-color">Chore Color</label>
                        <div class="color-picker-row" style="display: flex; align-items: center; gap: var(--space-2);">
                            <input type="color" id="edit-chore-color" value="#ff6b6b" style="width: 48px; height: 32px; border: none; background: none; cursor: pointer;">
                            <div class="color-presets" style="display: flex; gap: var(--space-1);">
                                <button type="button" class="color-preset" data-color="#ff6b6b" style="width: 24px; height: 24px; background: #ff6b6b; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                <button type="button" class="color-preset" data-color="#4ecdc4" style="width: 24px; height: 24px; background: #4ecdc4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                <button type="button" class="color-preset" data-color="#45b7d1" style="width: 24px; height: 24px; background: #45b7d1; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                <button type="button" class="color-preset" data-color="#96ceb4" style="width: 24px; height: 24px; background: #96ceb4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                <button type="button" class="color-preset" data-color="#feca57" style="width: 24px; height: 24px; background: #feca57; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                                <button type="button" class="color-preset" data-color="#ff9ff3" style="width: 24px; height: 24px; background: #ff9ff3; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-chore-notes">ğŸ“ Notes (optional)</label>
                    <input type="text" id="edit-chore-notes" placeholder="Any additional notes about this chore..." />
                    <small style="color: var(--gray-500); margin-top: 4px;">Add helpful details like specific instructions or reminders</small>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="app.hideModal('edit-chore-modal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Child Inline Template -->
    <template id="edit-child-inline-template">
        <div class="edit-inline-form" style="margin-top:8px;padding:12px 16px;background:var(--gray-50);border-radius:8px;display:flex;align-items:center;gap:12px;">
          <form class="modal-form" autocomplete="off" style="display:flex;align-items:center;gap:12px;">
            <input type="text" name="name" class="input" placeholder="Child's Name" required style="min-width:120px;">
            <input type="number" name="age" class="input" min="1" max="18" placeholder="Age" required style="width:60px;">
            <input type="color" name="color" class="input" value="#6366f1" style="width:40px;height:40px;">
            <div class="inline-dicebear-picker" style="display:flex;gap:4px;"></div>
            <button type="button" class="btn btn-outline btn-sm cancel-edit">Cancel</button>
            <button type="submit" class="btn btn-primary btn-sm">Save</button>
          </form>
        </div>
      </template>
    <!-- FAQ Modal -->
    <div id="faq-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>â“ Frequently Asked Questions</h2>
                <button class="modal-close" data-modal="faq-modal">&times;</button>
            </div>
            
            <div class="faq-content">
                <div class="faq-section">
                    <h3>ğŸ  Getting Started</h3>
                    
                    <div class="faq-item">
                        <h4>How do I add my first child?</h4>
                        <p>Click the "Add Your Child" button on the main screen. You'll need to provide their name, age, and choose a color for their profile.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>How do I create chores?</h4>
                        <p>After adding a child, click the "Add Chore" button. You can create multiple chores at once and assign them to specific children.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>How does the reward system work?</h4>
                        <p>Each completed chore earns 7Â¢ by default. Complete all chores for a day to earn the daily reward. Complete all chores for the week to earn a bonus!</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h3>ğŸ’° Premium Features</h3>
                    
                    <div class="faq-item">
                        <h4>What's included in Premium?</h4>
                        <p>Premium includes custom chore colors, expanded icon sets, chore categories, unlimited chores, and priority support.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>How much does Premium cost?</h4>
                        <p>Premium is $4.99/month or $49.99/year, giving you access to all advanced features for your entire family.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Can I cancel Premium anytime?</h4>
                        <p>Yes! You can cancel your Premium subscription at any time through your account settings. You'll keep access until the end of your billing period.</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h3>ğŸ“± Using the App</h3>
                    
                    <div class="faq-item">
                        <h4>How do I mark chores as complete?</h4>
                        <p>Simply click on any day in the chore grid to mark it as complete (âœ“) or incomplete. The progress bar updates instantly!</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>What are the Quick Actions?</h4>
                        <p>Quick Actions let you mark all chores for today, mark all chores for the week, or clear all chores for today with one click.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>How do I view chore history?</h4>
                        <p>Click the "ğŸ“Š History" button on any child's card to see their completion history and statistics.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>What are Chore Challenges?</h4>
                        <p>Challenges track special achievements like streaks, perfect days, and weekly goals. Click "ğŸ† Challenges" to see progress!</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h3>ğŸ”§ Technical Support</h3>
                    
                    <div class="faq-item">
                        <h4>My progress bar isn't updating</h4>
                        <p>Try refreshing the page. If the issue persists, check your internet connection and try again. Progress updates should be instant!</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>I can't log in to my account</h4>
                        <p>Make sure you're using the correct email and password. If you forgot your password, use the "Forgot password?" link on the login screen.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>The app looks different on my phone</h4>
                        <p>The app is designed to work on all devices! Try rotating your phone or refreshing the page for the best experience.</p>
                    </div>
                </div>
                
                <div class="faq-section">
                    <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Features</h3>
                    
                    <div class="faq-item">
                        <h4>How do I invite family members?</h4>
                        <p>Go to Settings â†’ Family Sharing to get your family code. Share this code with family members to let them join your family account.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>Can multiple parents use the app?</h4>
                        <p>Yes! Multiple family members can access the same account using the family code. Everyone sees the same chore data and progress.</p>
                    </div>
                    
                    <div class="faq-item">
                        <h4>How do I change family settings?</h4>
                        <p>Click the gear icon (âš™ï¸) in the top right to access family settings, including reward amounts and child management.</p>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <p>Still have questions? <a href="#" onclick="app.showModal('contact-modal'); app.hideModal('faq-modal')">Contact us</a> for help!</p>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contact-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“§ Contact Us</h2>
                <button class="modal-close" data-modal="contact-modal">&times;</button>
            </div>
            
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <p>We're here to help! Send us a message and we'll get back to you within 24 hours.</p>
                    
                    <div class="contact-methods">
                        <div class="contact-method">
                            <span class="contact-icon">ğŸ“§</span>
                            <div>
                                <strong>Email Support</strong>
                                <p>support@chorestar.app</p>
                            </div>
                        </div>
                        
                        <div class="contact-method">
                            <span class="contact-icon">â°</span>
                            <div>
                                <strong>Response Time</strong>
                                <p>Within 24 hours</p>
                            </div>
                        </div>
                        
                        <div class="contact-method">
                            <span class="contact-icon">ğŸŒ</span>
                            <div>
                                <strong>Available</strong>
                                <p>Monday - Friday, 9AM - 6PM CST</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <form id="contact-form" class="contact-form">
                    <!-- Anti-spam honeypot fields (hidden from users) -->
                    <div class="honeypot-field" style="display: none; position: absolute; left: -9999px;">
                        <input type="text" id="contact-website" name="website" tabindex="-1" autocomplete="off">
                        <input type="email" id="contact-email-confirm" name="email-confirm" tabindex="-1" autocomplete="off">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-name">Your Name</label>
                        <input type="text" id="contact-name" required placeholder="Enter your name" maxlength="100">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-email">Email Address</label>
                        <input type="email" id="contact-email" required placeholder="Enter your email" maxlength="100">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-subject">Subject</label>
                        <select id="contact-subject" required>
                            <option value="">Select a topic</option>
                            <option value="general">General Question</option>
                            <option value="technical">Technical Issue</option>
                            <option value="billing">Billing & Premium</option>
                            <option value="feature">Feature Request</option>
                            <option value="bug">Bug Report</option>
                            <option value="feedback">Feedback</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-message">Message</label>
                        <textarea id="contact-message" rows="5" required placeholder="Tell us how we can help you..." maxlength="1000"></textarea>
                        <small class="char-count">0/1000 characters</small>
                    </div>
                    
                    <!-- Human verification -->
                    <div class="form-group verification-group">
                        <label for="contact-verification">Verification: What is 3 + 5?</label>
                        <input type="number" id="contact-verification" required placeholder="Enter the answer" min="1" max="20">
                        <small>This helps us prevent spam</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="app.hideModal('contact-modal')">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="contact-submit-btn">
                            <span class="btn-text">Send Message</span>
                            <span class="btn-loading" style="display: none;">Sending...</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="supabase-config.js?v=2"></script>
    <script src="api-client.js?v=2"></script>
    <script src="analytics.js?v=1"></script>
    <script src="notifications.js?v=1"></script>
    <script src="family-sharing.js?v=1"></script>
    <script src="script.js?v=2"></script>
</body>
</html> 