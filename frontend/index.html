<!DOCTYPE html>
<html lang="en" itemscope itemtype="https://schema.org/WebApplication">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>ChoreStar - Family Chore Chart & Reward Tracker | Make Chores Fun</title>
    <!-- v20250109-8 -->
    <meta name="title" content="ChoreStar - Family Chore Chart & Reward Tracker | Make Chores Fun">
    <meta name="description" content="Transform household chores into fun family activities with ChoreStar. Track progress, earn rewards, and build good habits with our interactive chore chart app for families with children.">
    <meta name="keywords" content="family chore chart, kids chores, chore tracker, family rewards, children responsibility, household tasks, parenting app, chore management, family organization, kids motivation">
    <meta name="author" content="ChoreStar">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="theme-color" content="#667eea">
    <link rel="canonical" href="https://chorestar.app/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ChoreStar">
    <meta property="og:title" content="ChoreStar - Family Chore Chart & Reward Tracker">
    <meta property="og:description" content="Make chores fun with stars, progress tracking, and family rewards. Help your children build responsibility while earning rewards for completing household tasks.">
    <meta property="og:image" content="https://chorestar.app/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="ChoreStar family chore chart interface showing colorful progress tracking and rewards">
    <meta property="og:url" content="https://chorestar.app/">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@chorestar">
    <meta name="twitter:creator" content="@chorestar">
    <meta name="twitter:title" content="ChoreStar - Family Chore Chart & Reward Tracker">
    <meta name="twitter:description" content="Transform household chores into fun family activities. Track progress, earn rewards, and build good habits with our interactive chore chart.">
    <meta name="twitter:image" content="https://chorestar.app/twitter-image.jpg">
    <meta name="twitter:image:alt" content="ChoreStar family chore tracking app interface">
    
    <!-- Apple Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ChoreStar">
    <meta name="apple-itunes-app" content="app-id=123456789">
    
    <!-- Microsoft Meta Tags -->
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-config" content="browserconfig.xml">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#667eea">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik05NiA0OEM3Ny4xNjQ5IDQ4IDYyIDYzLjE2NDkgNjIgODJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjgyQzEzMCA2My4xNjQ5IDExNC44MzUgNDggOTYgNDhaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTEwIDEwNkMxMTAgOTcuNzE2NSA5OS4yODM1IDg3IDEwMCA4N0MxMDAuNzE2NSA4NyAxMTAgOTcuNzE2NSAxMTAgMTA2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTgyIDEwNkM4MiA5Ny43MTY1IDkyLjcxNjUgODcgOTIgODdDOTIuNzE2NSA4NyA4MiA5Ny43MTY1IDgyIDEwNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik05NiAxNTZDNzcuMTY0OSAxNTYgNjIgMTQwLjgzNSA2MiAxMjJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjEyMkMxMzAgMTQwLjgzNSAxMTQuODM1IDE1NiA5NiAxNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTEwIDEwNkMxMTAgOTcuNzE2NSA5OS4yODM1IDg3IDEwMCA4N0MxMDAuNzE2NSA4NyAxMTAgOTcuNzE2NSAxMTAgMTA2WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTgyIDEwNkM4MiA5Ny43MTY1IDkyLjcxNjUgODcgOTIgODdDOTIuNzE2NSA4NyA4MiA5Ny43MTY1IDgyIDEwNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik05NiAxNTZDNzcuMTY0OSAxNTYgNjIgMTQwLjgzNSA2MiAxMjJWNzJDNjIgNTMuMTY0OSA3Ny4xNjQ5IDM4IDk2IDM4QzExNC44MzUgMzggMTMwIDUzLjE2NDkgMTMwIDcyVjEyMkMxMzAgMTQwLjgzNSAxMTQuODM1IDE1NiA5NiAxNTZaIiBmaWxsPSJ3aGl0ZSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyXzFfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMTkyIiB5Mj0iMTkyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2NjdlZWEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzY0YmEiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://unpkg.com">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ChoreStar",
      "alternateName": "ChoreStar Family Chore Chart",
      "description": "Interactive family chore chart and reward tracking application that makes household tasks fun for children and helps build responsibility through gamification.",
      "url": "https://chorestar.app/",
      "image": "https://chorestar.app/logo.png",
      "applicationCategory": "Family & Parenting",
      "operatingSystem": "Web Browser, iOS, Android",
      "browserRequirements": "HTML5, JavaScript enabled",
      "softwareVersion": "2.0",
      "dateModified": "2025-01-15",
      "author": {
        "@type": "Organization",
        "name": "ChoreStar",
        "url": "https://chorestar.app/"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD",
        "category": "Free with Premium Options"
      },
      "featureList": [
        "Family chore tracking",
        "Progress visualization",
        "Reward system",
        "Multiple child profiles",
        "Custom chore icons",
        "Analytics dashboard",
        "Mobile responsive design"
      ],
      "screenshot": "https://chorestar.app/screenshot.jpg",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "127",
        "bestRating": "5",
        "worstRating": "1"
      }
    }
    </script>

    <!-- Additional Structured Data for Parenting App -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "ChoreStar Family Chore Chart",
      "applicationCategory": "Lifestyle",
      "applicationSubCategory": "Family & Parenting",
      "operatingSystem": "Web, iOS, Android",
      "permissions": "Family content access",
      "contentRating": "Everyone",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "127"
      },
      "offers": {
        "@type": "Offer",
        "price": "0.00",
        "priceCurrency": "USD"
      }
    }
    </script>

    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How does ChoreStar work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "ChoreStar is a family chore chart that lets you add children, assign chores, and track completion with visual progress bars. Children earn rewards for completing their daily and weekly tasks."
          }
        },
        {
          "@type": "Question",
          "name": "Is ChoreStar free to use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, ChoreStar offers a free version with basic chore tracking features. Premium features like custom icons, advanced analytics, and unlimited chores are available with a subscription."
          }
        },
        {
          "@type": "Question",
          "name": "What age groups is ChoreStar suitable for?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "ChoreStar is designed for families with children ages 3-18. The visual interface and reward system work well for motivating children of all ages to complete household tasks."
          }
        }
      ]
    }
    </script>

    <!-- Organization Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "ChoreStar",
      "alternateName": "ChoreStar App",
      "url": "https://chorestar.app/",
      "logo": "https://chorestar.app/logo.png",
      "description": "Making family chores fun and rewarding through interactive tracking and gamification.",
      "foundingDate": "2024",
      "sameAs": [
        "https://twitter.com/chorestar",
        "https://facebook.com/chorestar",
        "https://instagram.com/chorestar"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "Customer Service",
        "email": "support@chorestar.app",
        "availableLanguage": "English"
      }
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-746ST4RH2E"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-746ST4RH2E', {
            page_title: 'ChoreStar - Family Chore Chart',
            custom_map: {
                'custom_parameter_1': 'user_type',
                'custom_parameter_2': 'subscription_status',
                'custom_parameter_3': 'children_count'
            }
        });
    </script>
    
    <!-- External Resources -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- i18n for internationalization -->
    <script src="i18n-setup.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css?v=20250109-22">
    <link rel="stylesheet" href="clean-ui.css?v=20250109-23">
</head>
<body>
    <!-- Skip Navigation for Accessibility -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>
    
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen" role="status" aria-label="Loading application">
        <div class="loading-content">
            <div class="loading-spinner" aria-hidden="true"></div>
            <h2>Loading Family Chore Chart...</h2>
            <p>Getting everything ready for your family! üè†</p>
        </div>
    </div>

    <!-- Auth Container -->
    <div id="auth-container" class="auth-container hidden">
        <div class="auth-card">
            <header class="auth-header">
                <h1>üè† <span itemprop="name">ChoreStar</span> Family Chore Chart</h1>
                <p itemprop="description">Track chores, earn rewards, and have fun together!</p>
            </header>
            
            <!-- Login Form -->
            <form id="login-form" class="auth-form" role="form" aria-labelledby="login-heading">
                <h2 id="login-heading">Welcome Back!</h2>
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required autocomplete="email" aria-required="true">
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required autocomplete="current-password" aria-required="true">
                </div>
                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="remember-me" checked>
                        <span class="checkmark" aria-hidden="true"></span>
                        Remember me
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">Sign In</button>
                
                <div class="demo-section">
                    <p>Want to see what it's like first?</p>
                    <button type="button" class="btn btn-outline" id="login-demo-btn">
                        <span aria-hidden="true">üéÆ</span> Test it out
                    </button>
                    <p class="demo-subtext">If you like what you see, come back and sign up!</p>
                </div>
                
                <p class="auth-switch">
                    Don't have an account? 
                    <a href="#" id="show-signup">Create one here</a>
                </p>
                <p class="auth-switch">
                    <a href="#" id="forgot-password">Forgot password?</a>
                </p>
            </form>
            
            <!-- Signup Form -->
            <form id="signup-form" class="auth-form hidden" role="form" aria-labelledby="signup-heading">
                <h2 id="signup-heading">Create Family Account</h2>
                <div class="form-group">
                    <label for="signup-email">Email</label>
                    <input type="email" id="signup-email" required autocomplete="email" aria-required="true">
                </div>
                <div class="form-group">
                    <label for="signup-family-name">Family Name</label>
                    <input type="text" id="signup-family-name" required placeholder="e.g., The Smith Family" autocomplete="organization" aria-required="true">
                </div>
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <input type="password" id="signup-password" required minlength="6" autocomplete="new-password" aria-required="true" aria-describedby="password-help">
                    <small id="password-help">Minimum 6 characters</small>
                </div>
                <div class="form-group">
                    <label for="signup-confirm-password">Confirm Password</label>
                    <input type="password" id="signup-confirm-password" required minlength="6" autocomplete="new-password" aria-required="true">
                </div>
                <button type="submit" class="btn btn-primary">Create Account</button>
                
                <div class="demo-section">
                    <p>Want to see what it's like first?</p>
                    <button type="button" class="btn btn-outline" id="signup-demo-btn">
                        <span aria-hidden="true">üéÆ</span> Try Demo
                    </button>
                    <p class="demo-subtext">If you like what you see, come back and sign up!</p>
                </div>
                
                <p class="auth-switch">
                    Already have an account? 
                    <a href="#" id="show-login">Sign in here</a>
                </p>
            </form>
            
            <!-- Forgot Password Form -->
            <form id="forgot-form" class="auth-form hidden" role="form" aria-labelledby="forgot-heading">
                <h2 id="forgot-heading">Reset Password</h2>
                <p>Enter your email and we'll send you a reset link.</p>
                <div class="form-group">
                    <label for="forgot-email">Email</label>
                    <input type="email" id="forgot-email" required autocomplete="email" aria-required="true">
                </div>
                <button type="submit" class="btn btn-primary">Send Reset Link</button>
                <p class="auth-switch">
                    <a href="#" id="back-to-login">Back to login</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">
        <!-- Header -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <div class="header-left">
                    <h1>üè† ChoreStar</h1>
                    <p id="family-name">Loading...</p>
                </div>
                <nav class="header-right" role="navigation" aria-label="Main navigation">
                    <!-- Hamburger menu for mobile -->
                    <button class="btn btn-outline hamburger-menu-btn" id="hamburger-menu-btn" title="Menu" aria-label="Open navigation menu" aria-expanded="false" aria-controls="mobile-menu">
                        <span class="hamburger-icon" aria-hidden="true">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </button>
                    
                    <!-- Desktop navigation - simplified -->
                    <div class="desktop-nav">
                        <button class="btn btn-outline desktop-nav-btn" id="add-child-btn" title="Add A Child" aria-label="Add a new child to your family">
                            <span class="nav-icon" aria-hidden="true">üë§</span>
                            <span class="nav-label">Add Child</span>
                        </button>
                        <button class="btn btn-outline desktop-nav-btn" id="settings-btn" aria-label="Open settings">
                            <span class="nav-icon" aria-hidden="true">‚öô</span>
                            <span class="nav-label" data-i18n="settings">Settings</span>
                        </button>
                        <button class="btn btn-outline desktop-nav-btn" id="logout-btn" aria-label="Sign out of account">
                            <span class="nav-icon" aria-hidden="true">‚Üó</span>
                            <span class="nav-label">Logout</span>
                        </button>
                    </div>
                </nav>
            </div>
            
            <!-- Mobile slide-out menu -->
            <div class="mobile-menu-overlay" id="mobile-menu-overlay" aria-hidden="true"></div>
            <nav class="mobile-menu" id="mobile-menu" role="navigation" aria-label="Mobile navigation" aria-hidden="true">
                <div class="mobile-menu-header">
                    <h3>Menu</h3>
                    <button class="mobile-menu-close" id="mobile-menu-close" aria-label="Close navigation menu">&times;</button>
                </div>
                <div class="mobile-menu-content">
                    <section class="mobile-menu-section">
                        <h4>Quick Actions</h4>
                        <button class="mobile-menu-btn" id="mobile-add-child-btn" aria-label="Add a new child to your family">
                            <span class="mobile-menu-icon" aria-hidden="true">üë§</span>
                            <span class="mobile-menu-text">Add Child</span>
                        </button>
                        <button class="mobile-menu-btn" onclick="app.openEditChildrenPage()" aria-label="Edit children">
                            <span class="mobile-menu-icon" aria-hidden="true">‚úè</span>
                            <span class="mobile-menu-text">Edit Children</span>
                        </button>
                        <button class="mobile-menu-btn" id="mobile-settings-btn" aria-label="Open settings">
                            <span class="mobile-menu-icon" aria-hidden="true">‚öô</span>
                            <span class="mobile-menu-text" data-i18n="settings">Settings</span>
                        </button>
                    </section>
                    
                    <section class="mobile-menu-section">
                        <h4>Account</h4>
                        <button class="mobile-menu-btn mobile-menu-btn-danger" id="mobile-logout-btn" aria-label="Sign out of account">
                            <span class="mobile-menu-icon" aria-hidden="true">‚Üó</span>
                            <span class="mobile-menu-text">Logout</span>
                        </button>
                    </section>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="app-main" id="main-content" role="main">
            <!-- Family Dashboard Overview -->
            <section class="family-dashboard-overview" id="family-dashboard-overview" role="region" aria-labelledby="family-dashboard-heading">
                <div class="dashboard-header">
                    <div class="dashboard-title-section">
                        <h2 id="family-dashboard-heading">üè† Family Overview</h2>
                        <p class="dashboard-subtitle">This week's family progress and achievements</p>
                    </div>
                    <div class="dashboard-actions">
                        <button class="btn btn-primary btn-sm" id="refresh-dashboard" aria-label="Refresh dashboard data">
                            <span aria-hidden="true">üîÑ</span> Refresh
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-stats-grid">
                    <div class="dashboard-stat-card">
                        <div class="stat-icon">üåü</div>
                        <div class="stat-content">
                            <div class="stat-value" id="family-total-progress">0%</div>
                            <div class="stat-label">Family Progress</div>
                        </div>
                    </div>
                    
                    <div class="dashboard-stat-card">
                        <div class="stat-icon">üëë</div>
                        <div class="stat-content">
                            <div class="stat-value" id="family-leader">-</div>
                            <div class="stat-label">Top Performer</div>
                        </div>
                    </div>
                    
                    <div class="dashboard-stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-content">
                            <div class="stat-value" id="family-streak">0</div>
                            <div class="stat-label">Family Streak</div>
                        </div>
                    </div>
                    
                    <div class="dashboard-stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-content">
                            <div class="stat-value" id="family-earnings">$0.00</div>
                            <div class="stat-label">Total Earnings</div>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-achievements" id="dashboard-achievements">
                    <h3>üèÜ Recent Achievements</h3>
                    <div class="achievements-list" id="achievements-list">
                        <p class="no-achievements">No achievements yet this week. Complete chores to earn badges!</p>
                    </div>
                </div>
            </section>
            
            <!-- Children Tabs -->
            <nav class="children-tabs" id="children-tabs" role="tablist" aria-label="Child selection">
                <!-- Child tabs will be dynamically generated here -->
            </nav>
            
            <!-- Category Filter -->
            <div class="category-filter-container" style="padding: var(--space-3); background: var(--bg-secondary); border-bottom: 1px solid var(--border-color);">
                <div style="max-width: 1200px; margin: 0 auto;">
                    <!-- Category Header -->
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-3);">
                        <div style="display: flex; align-items: center; gap: var(--space-3);">
                            <h3 id="category-header" style="margin: 0; color: var(--text-primary); font-size: var(--font-size-lg); font-weight: 600;">
                                <span aria-hidden="true">üè†</span> All Activities
                            </h3>
                            <span id="category-filter-count" style="color: var(--gray-600); font-size: var(--font-size-sm); white-space: nowrap;"></span>
                        </div>
                        <div style="display: flex; align-items: center; gap: var(--space-2);">
                            <label for="category-filter" style="font-weight: 600; color: var(--text-primary);">
                                <span aria-hidden="true">üîç</span> Filter:
                            </label>
                            <select id="category-filter" class="category-filter-select" style="padding: var(--space-2); border: 1px solid var(--border-color); border-radius: var(--radius); background: var(--bg-primary); color: var(--text-primary); font-size: var(--font-size-sm);">
                                <option value="all">All Categories</option>
                                <option value="household_chores">üè† Household Chores</option>
                                <option value="learning_education">üìö Learning & Education</option>
                                <option value="physical_activity">üèÉ Physical Activity</option>
                                <option value="creative_time">üé® Creative Time</option>
                                <option value="games_play">üéÆ Games & Play</option>
                                <option value="reading">üìñ Reading</option>
                                <option value="family_time">‚ù§Ô∏è Family Time</option>
                                <option value="custom">‚öôÔ∏è Custom</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Category Description -->
                    <div id="category-description" style="color: var(--gray-600); font-size: var(--font-size-sm); margin-bottom: var(--space-2);">
                        View all your family's activities and tasks in one place
                    </div>
                </div>
            </div>
            
            <!-- Children Content -->
            <section class="children-content" id="children-content" role="tabpanel">
                <!-- Child content will be dynamically generated here -->
            </section>

            <!-- Empty State -->
            <section id="empty-state" class="empty-state hidden" role="region" aria-labelledby="empty-state-heading">
                <div class="empty-bg" aria-hidden="true"></div>
                <div class="empty-content">
                    <div class="empty-emoji" aria-hidden="true">üë∂</div>
                    <div class="empty-emoji-row" aria-hidden="true">üëßüèª üßíüèº üë¶üèΩ üë∂üèæ</div>
                    <h2 id="empty-state-heading">Welcome to Your Family Chore Chart!</h2>
                    <p>Start by adding your first child to begin tracking chores and rewards.</p>
                    <div class="empty-how-it-works">
                        <div class="how-step"><span aria-hidden="true">‚ûï</span><div>Add a child</div></div>
                        <div class="how-step"><span aria-hidden="true">üìù</span><div>Add chores</div></div>
                        <div class="how-step"><span aria-hidden="true">üåü</span><div>Track progress & rewards</div></div>
                    </div>
                    <div class="empty-blurb">Make chores fun, build good habits, and celebrate your family's progress!</div>
                    <button id="empty-add-child-btn" class="btn btn-primary" aria-label="Add your first child"><span aria-hidden="true">üë∂</span> Add Your Child</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Seasonal Chore Suggestions Modal -->
    <div id="seasonal-chore-modal" class="modal hidden" role="dialog" aria-labelledby="seasonal-chore-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="seasonal-chore-modal-title">üåü Seasonal Chore Suggestions</h2>
                <button class="modal-close" data-modal="seasonal-chore-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-body">
                <div id="seasonal-chore-content">
                    <!-- Content will be dynamically populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    
    <!-- Add Child Modal -->
    <div id="add-child-modal" class="modal hidden" role="dialog" aria-labelledby="add-child-modal-title" aria-hidden="true">
        <div class="modal-content modal-flex">
            <header class="modal-header">
                <h2 id="add-child-modal-title">üë∂ Add New Child</h2>
                <button class="modal-close" data-modal="add-child-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-body-flex">
                <div class="avatar-col">
                    <div id="add-child-avatar-preview-circle" class="avatar-circle" aria-hidden="true">A</div>
                </div>
                <form id="add-child-form" class="modal-form form-col" role="form">
                    <div class="fields-row">
                        <div class="form-group">
                            <label for="child-name">Child's Name</label>
                            <input type="text" id="child-name" required placeholder="e.g., Emma" autocomplete="given-name" aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="child-age">Age</label>
                            <input type="number" id="child-age" min="1" max="18" required aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="child-color">Avatar Color</label>
                            <div class="color-picker-row">
                                <span id="add-selected-color" class="color-preset selected-color-circle" style="background: #6366f1;" aria-hidden="true"></span>
                                <input type="color" id="child-color" value="#6366f1" aria-label="Select custom avatar color">
                                <div class="color-presets" role="group" aria-label="Preset colors">
                                    <button type="button" class="color-preset" data-color="#6366f1" style="background: #6366f1;" aria-label="Blue"></button>
                                    <button type="button" class="color-preset" data-color="#10b981" style="background: #10b981;" aria-label="Green"></button>
                                    <button type="button" class="color-preset" data-color="#f59e0b" style="background: #f59e0b;" aria-label="Orange"></button>
                                    <button type="button" class="color-preset" data-color="#ef4444" style="background: #ef4444;" aria-label="Red"></button>
                                    <button type="button" class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6;" aria-label="Purple"></button>
                                    <button type="button" class="color-preset" data-color="#ec4899" style="background: #ec4899;" aria-label="Pink"></button>
                                </div>
                            </div>
                            <small class="help-text" style="margin-top: 4px; color: var(--gray-600); font-size: 0.875rem;">Click the color picker for custom colors or choose from the preset swatches</small>
                        </div>
                    </div>
                    <div class="actions-row" style="display: flex; align-items: center; gap: 16px;">
                        <!-- Avatar preview removed - now handled by main avatar circle -->
                    </div>
                    <div class="dicebear-row">
                        <button type="button" id="add-icon-picker-btn" class="btn btn-outline" onclick="openIconPicker('', function(iconUrl, iconType) { app.handleAddChildIconSelect(iconUrl, iconType); })">
                            üé® Choose Icon
                        </button>
                        <button type="button" id="add-avatar-remove-btn" class="btn btn-outline" aria-label="Remove selected avatar">Remove Avatar</button>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="add-child-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Add Child</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Children Page -->
    <div id="edit-children-page" class="page-modal hidden" role="dialog" aria-labelledby="edit-children-page-title" aria-hidden="true">
        <div class="page-modal-content">
            <header class="page-modal-header">
                <h2 id="edit-children-page-title">üë∂ Edit Children</h2>
                <button class="page-modal-close" onclick="app.closeEditChildrenPage()" aria-label="Close page">&times;</button>
            </header>
            <div class="page-modal-body">
                <div class="edit-children-container">
                    <!-- Child Navigation -->
                    <div class="child-navigation">
                        <div class="nav-controls">
                            <button type="button" class="btn btn-outline" onclick="app.previousChild()" id="prev-child-btn" disabled>
                                ‚Üê Previous
                            </button>
                            <span class="child-counter" id="child-counter">0 of 0</span>
                            <button type="button" class="btn btn-outline" onclick="app.nextChild()" id="next-child-btn" disabled>
                                Next ‚Üí
                            </button>
                        </div>
                        <div class="child-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="edit-progress-fill"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Edit Form -->
                    <div class="edit-form-container">
                        <form id="page-edit-child-form" class="edit-form">
                            <div class="edit-form-row">
                                <div class="avatar-section">
                                    <div id="page-edit-child-avatar-preview-circle" class="avatar-circle" aria-hidden="true">A</div>
                                </div>
                                <div class="form-section">
                                    <div class="form-fields">
                                        <div class="form-group">
                                            <label for="page-edit-child-name">Child's Name</label>
                                            <input type="text" id="page-edit-child-name" required placeholder="e.g., Emma" autocomplete="given-name" aria-required="true">
                                        </div>
                                        <div class="form-group">
                                            <label for="page-edit-child-age">Age</label>
                                            <input type="number" id="page-edit-child-age" min="1" max="18" required aria-required="true">
                                        </div>
                                        <div class="form-group">
                                            <label for="page-edit-child-color">Avatar Color</label>
                                            <div class="color-picker-row">
                                                <span id="page-edit-selected-color" class="color-preset selected-color-circle" style="background: #6366f1;" aria-hidden="true"></span>
                                                <input type="color" id="page-edit-child-color" value="#6366f1" aria-label="Select custom avatar color">
                                                <div class="color-presets" role="group" aria-label="Preset colors">
                                                    <button type="button" class="color-preset" data-color="#6366f1" style="background: #6366f1;" aria-label="Blue"></button>
                                                    <button type="button" class="color-preset" data-color="#10b981" style="background: #10b981;" aria-label="Green"></button>
                                                    <button type="button" class="color-preset" data-color="#f59e0b" style="background: #f59e0b;" aria-label="Orange"></button>
                                                    <button type="button" class="color-preset" data-color="#ef4444" style="background: #ef4444;" aria-label="Red"></button>
                                                    <button type="button" class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6;" aria-label="Purple"></button>
                                                    <button type="button" class="color-preset" data-color="#ec4899" style="background: #ec4899;" aria-label="Pink"></button>
                                                </div>
                                            </div>
                                            <small class="help-text">Click the color picker for custom colors or choose from the preset swatches</small>
                                        </div>
                                    </div>
                                    <div class="avatar-actions">
                                        <button type="button" id="page-edit-icon-picker-btn" class="btn btn-outline" onclick="openIconPicker('', function(iconUrl, iconType) { app.handlePageEditChildIconSelect(iconUrl, iconType); })">
                                            üé® Choose Icon
                                        </button>
                                        <button type="button" id="page-edit-avatar-remove-btn" class="btn btn-outline" aria-label="Remove selected avatar">Remove Avatar</button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-outline" onclick="app.closeEditChildrenPage()">Cancel</button>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Child Modal -->
    <div id="edit-child-modal" class="modal hidden" role="dialog" aria-labelledby="edit-child-modal-title" aria-hidden="true">
        <div class="modal-content modal-flex">
            <header class="modal-header">
                <h2 id="edit-child-modal-title">üë∂ Edit Child</h2>
                <button class="modal-close" data-modal="edit-child-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-body-flex">
                <div class="avatar-col">
                    <div id="edit-child-avatar-preview-circle" class="avatar-circle" aria-hidden="true">A</div>
                </div>
                <form id="edit-child-form" class="modal-form form-col" role="form">
                    <div class="fields-row">
                        <div class="form-group">
                            <label for="edit-child-name">Child's Name</label>
                            <input type="text" id="edit-child-name" required placeholder="e.g., Emma" autocomplete="given-name" aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="edit-child-age">Age</label>
                            <input type="number" id="edit-child-age" min="1" max="18" required aria-required="true">
                        </div>
                        <div class="form-group">
                            <label for="edit-child-color">Avatar Color</label>
                            <div class="color-picker-row">
                                <span id="edit-selected-color" class="color-preset selected-color-circle" style="background: #6366f1;" aria-hidden="true"></span>
                                <input type="color" id="edit-child-color" value="#6366f1" aria-label="Select custom avatar color">
                                <div class="color-presets" role="group" aria-label="Preset colors">
                                    <button type="button" class="color-preset" data-color="#6366f1" style="background: #6366f1;" aria-label="Blue"></button>
                                    <button type="button" class="color-preset" data-color="#10b981" style="background: #10b981;" aria-label="Green"></button>
                                    <button type="button" class="color-preset" data-color="#f59e0b" style="background: #f59e0b;" aria-label="Orange"></button>
                                    <button type="button" class="color-preset" data-color="#ef4444" style="background: #ef4444;" aria-label="Red"></button>
                                    <button type="button" class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6;" aria-label="Purple"></button>
                                    <button type="button" class="color-preset" data-color="#ec4899" style="background: #ec4899;" aria-label="Pink"></button>
                                </div>
                            </div>
                            <small class="help-text" style="margin-top: 4px; color: var(--gray-600); font-size: 0.875rem;">Click the color picker for custom colors or choose from the preset swatches</small>
                        </div>
                    </div>
                    <div class="actions-row" style="display: flex; align-items: center; gap: 16px;">
                        <!-- Avatar preview removed - now handled by main avatar circle -->
                    </div>
                    <div class="dicebear-row">
                        <button type="button" id="edit-icon-picker-btn" class="btn btn-outline" onclick="openIconPicker('', function(iconUrl, iconType) { app.handleEditChildIconSelect(iconUrl, iconType); })">
                            üé® Choose Icon
                        </button>
                        <button type="button" id="edit-avatar-remove-btn" class="btn btn-outline" aria-label="Remove selected avatar">Remove Avatar</button>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="edit-child-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Chore Modal -->
    <div id="add-chore-modal" class="modal hidden" role="dialog" aria-labelledby="add-chore-modal-title" aria-hidden="true">
        <div class="modal-content modal-flex">
            <header class="modal-header">
                <h2 id="add-chore-modal-title">‚úì Add New Activities</h2>
                <button class="modal-close" data-modal="add-chore-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-body-flex">
                <form id="add-chore-form" class="modal-form form-col" role="form">
                <div class="form-group">
                    <label for="chore-child">For Child</label>
                    <select id="chore-child" required aria-required="true">
                        <option value="">Select a child...</option>
                    </select>
                </div>
                
                <div id="chores-container">
                    <div class="chore-entry">
                        <div class="chore-entry-header">
                            <div class="chore-entry-title">
                                <span class="chore-number">1</span>
                                <h3>Activity Details</h3>
                            </div>
                            <button type="button" class="btn btn-outline btn-sm remove-chore" style="display: none;" aria-label="Remove this activity">Remove</button>
                        </div>
                        <div class="form-group">
                            <label for="chore-name-1">Activity Name</label>
                            <input type="text" id="chore-name-1" required placeholder="e.g., Make bed" aria-required="true">
                        </div>
                        
                        <div class="form-group">
                            <label for="chore-category-1">Activity Category</label>
                            <select id="chore-category-1" class="category-selector" aria-required="true">
                                <option value="household_chores" selected>üè† Household Chores</option>
                                <option value="learning_education">üìö Learning & Education</option>
                                <option value="physical_activity">üèÉ Physical Activity</option>
                                <option value="creative_time">üé® Creative Time</option>
                                <option value="games_play">üéÆ Games & Play</option>
                                <option value="reading">üìñ Reading</option>
                                <option value="family_time">‚ù§Ô∏è Family Time</option>
                                <option value="custom">‚öôÔ∏è Custom</option>
                            </select>
                        </div>
                        
                        <!-- Premium Features -->
                        <div class="premium-features" id="premium-chore-features-1" style="display: none;">
                            <div class="form-group">
                                <label for="chore-color-1">Chore Color</label>
                                <div class="color-picker-row">
                                    <input type="color" id="chore-color-1" value="#ff6b6b" style="width: 48px; height: 32px; border: none; background: none; cursor: pointer;" aria-label="Select chore color">
                                    <div class="color-presets" style="display: flex; gap: var(--space-1);" role="group" aria-label="Preset chore colors">
                                        <button type="button" class="color-preset" data-color="#ff6b6b" style="width: 24px; height: 24px; background: #ff6b6b; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Red"></button>
                                        <button type="button" class="color-preset" data-color="#4ecdc4" style="width: 24px; height: 24px; background: #4ecdc4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Teal"></button>
                                        <button type="button" class="color-preset" data-color="#45b7d1" style="width: 24px; height: 24px; background: #45b7d1; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Blue"></button>
                                        <button type="button" class="color-preset" data-color="#96ceb4" style="width: 24px; height: 24px; background: #96ceb4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Green"></button>
                                        <button type="button" class="color-preset" data-color="#feca57" style="width: 24px; height: 24px; background: #feca57; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Yellow"></button>
                                        <button type="button" class="color-preset" data-color="#ff9ff3" style="width: 24px; height: 24px; background: #ff9ff3; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Pink"></button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-icon-1">Chore Icon</label>
                                <div class="icon-picker" id="icon-picker-1" role="group" aria-label="Select chore icon">
                                    <!-- Household Chores -->
                                    <button type="button" class="icon-option active" data-icon="üìù" aria-label="Note pad icon">üìù</button>
                                    <button type="button" class="icon-option" data-icon="üõèÔ∏è" aria-label="Bed icon">üõèÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üßπ" aria-label="Broom icon">üßπ</button>
                                    <button type="button" class="icon-option" data-icon="üß∫" aria-label="Laundry basket icon">üß∫</button>
                                    <button type="button" class="icon-option" data-icon="üçΩÔ∏è" aria-label="Dishes icon">üçΩÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üöø" aria-label="Shower icon">üöø</button>
                                    <button type="button" class="icon-option" data-icon="üßΩ" aria-label="Sponge icon">üßΩ</button>
                                    <button type="button" class="icon-option" data-icon="üóëÔ∏è" aria-label="Trash can icon">üóëÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üö™" aria-label="Door icon">üö™</button>
                                    <button type="button" class="icon-option" data-icon="ü™ü" aria-label="Window icon">ü™ü</button>
                                    <button type="button" class="icon-option" data-icon="ü™ë" aria-label="Chair icon">ü™ë</button>
                                    <button type="button" class="icon-option" data-icon="üõãÔ∏è" aria-label="Couch icon">üõãÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="ü™û" aria-label="Mirror icon">ü™û</button>
                                    <button type="button" class="icon-option" data-icon="üñºÔ∏è" aria-label="Picture frame icon">üñºÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üí°" aria-label="Light bulb icon">üí°</button>
                                    <button type="button" class="icon-option" data-icon="üîå" aria-label="Plug icon">üîå</button>
                                    <button type="button" class="icon-option" data-icon="üîã" aria-label="Battery icon">üîã</button>
                                    
                                    <!-- Clothing & Personal Care -->
                                    <button type="button" class="icon-option" data-icon="üëï" aria-label="T-shirt icon">üëï</button>
                                    <button type="button" class="icon-option" data-icon="üëñ" aria-label="Pants icon">üëñ</button>
                                    <button type="button" class="icon-option" data-icon="üëü" aria-label="Shoes icon">üëü</button>
                                    <button type="button" class="icon-option" data-icon="üéí" aria-label="Backpack icon">üéí</button>
                                    <button type="button" class="icon-option" data-icon="üß∏" aria-label="Teddy bear icon">üß∏</button>
                                    
                                    <!-- School & Learning -->
                                    <button type="button" class="icon-option" data-icon="üìö" aria-label="Books icon">üìö</button>
                                    <button type="button" class="icon-option" data-icon="üìñ" aria-label="Open book icon">üìñ</button>
                                    <button type="button" class="icon-option" data-icon="‚úèÔ∏è" aria-label="Pencil icon">‚úèÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üé®" aria-label="Art palette icon">üé®</button>
                                    <button type="button" class="icon-option" data-icon="üß†" aria-label="Brain icon">üß†</button>
                                    
                                    <!-- Technology -->
                                    <button type="button" class="icon-option" data-icon="üì±" aria-label="Phone icon">üì±</button>
                                    <button type="button" class="icon-option" data-icon="üíª" aria-label="Laptop icon">üíª</button>
                                    <button type="button" class="icon-option" data-icon="üéÆ" aria-label="Video game icon">üéÆ</button>
                                    
                                    <!-- Pets & Animals -->
                                    <button type="button" class="icon-option" data-icon="üêï" aria-label="Dog icon">üêï</button>
                                    <button type="button" class="icon-option" data-icon="üê±" aria-label="Cat icon">üê±</button>
                                    <button type="button" class="icon-option" data-icon="üê¶" aria-label="Bird icon">üê¶</button>
                                    <button type="button" class="icon-option" data-icon="üê†" aria-label="Fish icon">üê†</button>
                                    <button type="button" class="icon-option" data-icon="üêπ" aria-label="Hamster icon">üêπ</button>
                                    
                                    <!-- Plants & Nature -->
                                    <button type="button" class="icon-option" data-icon="üå±" aria-label="Seedling icon">üå±</button>
                                    <button type="button" class="icon-option" data-icon="üå∫" aria-label="Flower icon">üå∫</button>
                                    <button type="button" class="icon-option" data-icon="üå≥" aria-label="Tree icon">üå≥</button>
                                    <button type="button" class="icon-option" data-icon="üåø" aria-label="Herb icon">üåø</button>
                                    <button type="button" class="icon-option" data-icon="üçÉ" aria-label="Leaf icon">üçÉ</button>
                                    <button type="button" class="icon-option" data-icon="üåßÔ∏è" aria-label="Rain icon">üåßÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="‚òÄÔ∏è" aria-label="Sun icon">‚òÄÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="‚ùÑÔ∏è" aria-label="Snowflake icon">‚ùÑÔ∏è</button>
                                    
                                    <!-- Transportation -->
                                    <button type="button" class="icon-option" data-icon="üöó" aria-label="Car icon">üöó</button>
                                    <button type="button" class="icon-option" data-icon="üö≤" aria-label="Bicycle icon">üö≤</button>
                                    <button type="button" class="icon-option" data-icon="üõ¥" aria-label="Scooter icon">üõ¥</button>
                                    <button type="button" class="icon-option" data-icon="üè†" aria-label="House icon">üè†</button>
                                    <button type="button" class="icon-option" data-icon="üè°" aria-label="Home icon">üè°</button>
                                    
                                    <!-- Sports & Activities -->
                                    <button type="button" class="icon-option" data-icon="‚öΩ" aria-label="Soccer ball icon">‚öΩ</button>
                                    <button type="button" class="icon-option" data-icon="üèÄ" aria-label="Basketball icon">üèÄ</button>
                                    <button type="button" class="icon-option" data-icon="üéæ" aria-label="Tennis ball icon">üéæ</button>
                                    <button type="button" class="icon-option" data-icon="üèä" aria-label="Swimming icon">üèä</button>
                                    <button type="button" class="icon-option" data-icon="üö¥" aria-label="Cycling icon">üö¥</button>
                                    <button type="button" class="icon-option" data-icon="üèÉ" aria-label="Running icon">üèÉ</button>
                                    <button type="button" class="icon-option" data-icon="üßò" aria-label="Meditation icon">üßò</button>
                                    <button type="button" class="icon-option" data-icon="üí™" aria-label="Muscle icon">üí™</button>
                                    <button type="button" class="icon-option" data-icon="üéØ" aria-label="Target icon">üéØ</button>
                                    
                                    <!-- Music & Arts -->
                                    <button type="button" class="icon-option" data-icon="üéµ" aria-label="Musical note icon">üéµ</button>
                                    <button type="button" class="icon-option" data-icon="üé§" aria-label="Microphone icon">üé§</button>
                                    <button type="button" class="icon-option" data-icon="üéß" aria-label="Headphones icon">üéß</button>
                                    <button type="button" class="icon-option" data-icon="üéπ" aria-label="Piano icon">üéπ</button>
                                    <button type="button" class="icon-option" data-icon="üé∏" aria-label="Guitar icon">üé∏</button>
                                    <button type="button" class="icon-option" data-icon="ü•Å" aria-label="Drums icon">ü•Å</button>
                                    <button type="button" class="icon-option" data-icon="üé∫" aria-label="Trumpet icon">üé∫</button>
                                    <button type="button" class="icon-option" data-icon="üéª" aria-label="Violin icon">üéª</button>
                                    <button type="button" class="icon-option" data-icon="üéº" aria-label="Sheet music icon">üéº</button>
                                    <button type="button" class="icon-option" data-icon="üé≠" aria-label="Theater masks icon">üé≠</button>
                                    <button type="button" class="icon-option" data-icon="üé¨" aria-label="Movie camera icon">üé¨</button>
                                    
                                    <!-- Celebrations & Fun -->
                                    <button type="button" class="icon-option" data-icon="üéâ" aria-label="Party popper icon">üéâ</button>
                                    <button type="button" class="icon-option" data-icon="üéä" aria-label="Confetti ball icon">üéä</button>
                                    <button type="button" class="icon-option" data-icon="üéà" aria-label="Balloon icon">üéà</button>
                                    <button type="button" class="icon-option" data-icon="üéÅ" aria-label="Gift icon">üéÅ</button>
                                    <button type="button" class="icon-option" data-icon="üéÑ" aria-label="Christmas tree icon">üéÑ</button>
                                    <button type="button" class="icon-option" data-icon="üéÉ" aria-label="Pumpkin icon">üéÉ</button>
                                    <button type="button" class="icon-option" data-icon="üé™" aria-label="Circus tent icon">üé™</button>
                                    
                                    <!-- Emotions & Symbols -->
                                    <button type="button" class="icon-option" data-icon="‚ù§Ô∏è" aria-label="Heart icon">‚ù§Ô∏è</button>
                                    <button type="button" class="icon-option" data-icon="üåü" aria-label="Star icon">üåü</button>
                                    <button type="button" class="icon-option" data-icon="‚≠ê" aria-label="Star icon">‚≠ê</button>
                                    <button type="button" class="icon-option" data-icon="‚ú®" aria-label="Sparkles icon">‚ú®</button>
                                    <button type="button" class="icon-option" data-icon="üíé" aria-label="Diamond icon">üíé</button>
                                    <button type="button" class="icon-option" data-icon="üèÜ" aria-label="Trophy icon">üèÜ</button>
                                    <button type="button" class="icon-option" data-icon="üéñÔ∏è" aria-label="Medal icon">üéñÔ∏è</button>
                                    <button type="button" class="icon-option" data-icon="üëë" aria-label="Crown icon">üëë</button>
                                    <button type="button" class="icon-option" data-icon="üí´" aria-label="Dizzy star icon">üí´</button>
                                    <button type="button" class="icon-option" data-icon="üåà" aria-label="Rainbow icon">üåà</button>
                                </div>
                                <input type="hidden" id="chore-icon-1" value="üìù">
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-category-1">Category</label>
                                <select id="chore-category-1">
                                    <option value="General">General</option>
                                    <option value="Kitchen">Kitchen</option>
                                    <option value="Bedroom">Bedroom</option>
                                    <option value="Bathroom">Bathroom</option>
                                    <option value="Outdoor">Outdoor</option>
                                    <option value="School">School</option>
                                    <option value="Pets">Pets</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="chore-notes-1">Notes (Optional)</label>
                                <input type="text" id="chore-notes-1" placeholder="e.g., Remember to use soap!" />
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <small style="color: var(--gray-600);">Each completed day earns 7¬¢</small>
                        </div>
                        
                        <div class="premium-upgrade-prompt" id="premium-upgrade-prompt-1" style="display: none;">
                            <div class="upgrade-banner">
                                <span aria-hidden="true">üåü</span>
                                <span>Upgrade to Premium for custom colors, icons, categories, and more!</span>
                                <button type="button" class="btn btn-primary btn-sm" onclick="app.showUpgradeModal()">Upgrade</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" id="add-more-chore" aria-label="Add another chore to this form">
                        <span aria-hidden="true">‚ûï</span> Add Another Chore
                    </button>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" data-modal="add-chore-modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add All Activities</button>
                </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden" role="dialog" aria-labelledby="settings-modal-title" aria-hidden="true">
        <div class="modal-content modal-flex settings-modal-content">
            <header class="modal-header">
                <h2 id="settings-modal-title">‚öô Family Settings</h2>
                <button class="modal-close" data-modal="settings-modal" aria-label="Close modal">&times;</button>
            </header>
            
            <!-- Settings Tabs -->
            <nav class="settings-tabs" id="settings-tabs" role="tablist" aria-label="Settings categories">
                <button class="tab-btn active" data-tab="family" role="tab" aria-selected="true" aria-controls="family-tab">
                    <span aria-hidden="true">üë•</span> Family
                </button>
                <button class="tab-btn" data-tab="chores" role="tab" aria-selected="false" aria-controls="chores-tab">
                    <span aria-hidden="true">‚úì</span> Chores
                </button>
                <button class="tab-btn" data-tab="appearance" role="tab" aria-selected="false" aria-controls="appearance-tab">
                    <span aria-hidden="true">üé®</span> Appearance
                </button>
                <button class="tab-btn" data-tab="insights" role="tab" aria-selected="false" aria-controls="insights-tab">
                    <span aria-hidden="true">üìä</span> Insights
                </button>
            </nav>
            
            <!-- Family Tab (Combines Rewards + Manage Children) -->
            <div id="family-tab" class="tab-content active" role="tabpanel" aria-labelledby="family-tab-label">
                <div class="family-content">
                    <h3 id="family-tab-label">üë• Family Management</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Manage your family members and reward settings.</p>
                    
                    <!-- Rewards Section -->
                    <section class="settings-section">
                        <h4>$ Reward Settings</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Configure how much children earn for completing chores.</p>
                        
                        <form id="settings-form" role="form">
                            <div class="rewards-row">
                                <div class="form-group">
                                    <label for="daily-reward">Daily Reward (cents)</label>
                                    <input type="number" id="daily-reward" min="1" max="100" value="7" required aria-required="true" aria-describedby="daily-reward-help">
                                    <small id="daily-reward-help">Amount earned per day when all chores are completed</small>
                                </div>
                                <div class="form-group">
                                    <label for="weekly-bonus">Weekly Bonus (cents)</label>
                                    <input type="number" id="weekly-bonus" min="0" max="50" value="1" required aria-required="true" aria-describedby="weekly-bonus-help">
                                    <small id="weekly-bonus-help">Bonus for completing all chores all week</small>
                                </div>
                            </div>
                            
                            <!-- Currency and Locale Settings -->
                            <div class="form-group">
                                <label for="currency-select">$ Currency</label>
                                <select id="currency-select" aria-describedby="currency-help">
                                    <option value="USD">üá∫üá∏ US Dollar (USD)</option>
                                    <option value="GBP">üá¨üáß British Pound (GBP)</option>
                                    <option value="EUR">üá™üá∫ Euro (EUR)</option>
                                    <option value="CAD">üá®üá¶ Canadian Dollar (CAD)</option>
                                    <option value="AUD">üá¶üá∫ Australian Dollar (AUD)</option>
                                    <option value="JPY">üáØüáµ Japanese Yen (JPY)</option>
                                    <option value="CHF">üá®üá≠ Swiss Franc (CHF)</option>
                                    <option value="SEK">üá∏üá™ Swedish Krona (SEK)</option>
                                    <option value="NOK">üá≥üá¥ Norwegian Krone (NOK)</option>
                                    <option value="DKK">üá©üá∞ Danish Krone (DKK)</option>
                                    <option value="PLN">üáµüá± Polish Z≈Çoty (PLN)</option>
                                    <option value="CZK">üá®üáø Czech Koruna (CZK)</option>
                                    <option value="HUF">üá≠üá∫ Hungarian Forint (HUF)</option>
                                    <option value="INR">üáÆüá≥ Indian Rupee (INR)</option>
                                    <option value="BRL">üáßüá∑ Brazilian Real (BRL)</option>
                                    <option value="MXN">üá≤üáΩ Mexican Peso (MXN)</option>
                                    <option value="KRW">üá∞üá∑ South Korean Won (KRW)</option>
                                    <option value="SGD">üá∏üá¨ Singapore Dollar (SGD)</option>
                                    <option value="HKD">üá≠üá∞ Hong Kong Dollar (HKD)</option>
                                    <option value="NZD">üá≥üáø New Zealand Dollar (NZD)</option>
                                </select>
                                <small id="currency-help">Choose your preferred currency for displaying rewards and earnings</small>
                            </div>
                            
                            <!-- Date Format Settings -->
                            <div class="form-group">
                                <label for="date-format-select">üìÜ Date Format</label>
                                <select id="date-format-select" aria-describedby="date-format-help">
                                    <option value="auto">üåç Auto (Based on Locale)</option>
                                    <option value="MM/DD/YYYY">üá∫üá∏ US Format (MM/DD/YYYY)</option>
                                    <option value="DD/MM/YYYY">üá¨üáß UK Format (DD/MM/YYYY)</option>
                                    <option value="YYYY-MM-DD">üåê ISO Format (YYYY-MM-DD)</option>
                                    <option value="DD.MM.YYYY">üá©üá™ German Format (DD.MM.YYYY)</option>
                                    <option value="DD/MM/YYYY">üá´üá∑ French Format (DD/MM/YYYY)</option>
                                </select>
                                <small id="date-format-help">Choose how dates are displayed throughout the app</small>
                            </div>
                            
                            <!-- Language Settings -->
                            <div class="form-group">
                                <label for="language-select">üåê Language</label>
                                <select id="language-select" aria-describedby="language-help">
                                    <option value="en">üá∫üá∏ English</option>
                                    <option value="es">üá™üá∏ Espa√±ol</option>
                                    <option value="fr">üá´üá∑ Fran√ßais</option>
                                    <option value="de">üá©üá™ Deutsch</option>
                                </select>
                                <small id="language-help">Choose your preferred language for the app interface</small>
                            </div>
                        </form>
                    </section>
                    
                    <!-- Manage Children Section -->
                    <section class="settings-section">
                        <h4>üë∂ Manage Your Children</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Edit or remove children from your family.</p>
                        
                        <div id="manage-children-list" role="list">
                            <!-- Children will be listed here -->
                        </div>
                        
                        <!-- Edit All Children Controls -->
                        <div class="edit-all-children-controls" style="margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--gray-200);">
                            <div class="edit-all-header">
                                <h5>Edit All Children</h5>
                                <p style="color: var(--gray-600); font-size: 0.875rem; margin: var(--space-2) 0;">Edit each child one by one in a dedicated page.</p>
                            </div>
                            <div class="edit-all-actions">
                                <button type="button" class="btn btn-primary" onclick="app.openEditChildrenPage()">
                                    Open Edit Children Page
                                </button>
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: var(--space-6);">
                            <button class="btn btn-primary" onclick="app.showModal('add-child-modal')" aria-label="Add a new child to your family">
                                <span aria-hidden="true">‚ûï</span> Add New Child
                            </button>
                        </div>
                    </section>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" data-modal="settings-modal">Cancel</button>
                        <button type="submit" class="btn btn-primary" onclick="app.saveSettings()">Save Settings</button>
                    </div>
                </div>
            </div>
            
            <!-- Chores Tab -->
            <div id="chores-tab" class="tab-content" role="tabpanel" aria-labelledby="chores-tab-label">
                <div class="chores-management-content">
                    <h3 id="chores-tab-label">‚úì Manage Chores</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Edit and organize chores for each child.</p>
                    
                    <div id="chores-management-tabs">
                        <!-- Child-specific chore tabs will be generated here -->
                    </div>
                    
                    <div id="chores-management-content">
                        <!-- Child-specific chore content will be generated here -->
                    </div>
                </div>
            </div>
            
            <!-- Appearance Tab (Combines Seasonal Themes + Premium Features) -->
            <div id="appearance-tab" class="tab-content" role="tabpanel" aria-labelledby="appearance-tab-label">
                <div class="appearance-content">
                    <h3 id="appearance-tab-label">üé® Appearance & Themes</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Customize your app's appearance with themes and premium features.</p>
                    
                    <!-- Seasonal Themes Section -->
                    <section class="settings-section">
                        <h4>üéÑ Seasonal Themes</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Celebrate holidays and seasons with special themes and chore suggestions!</p>
                        
                        <!-- Current Theme Status -->
                        <div class="current-theme-status">
                            <h5>Current Theme</h5>
                            <div id="current-theme-display">
                                <div class="no-theme-message">
                                    <div class="no-theme-icon">üé®</div>
                                    <p>No seasonal theme active</p>
                                    <small>Browse available themes below to get started!</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Available Themes -->
                        <div class="available-themes">
                            <h5>Available Themes</h5>
                            <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Click on any theme to activate it and transform your ChoreStar experience!</p>
                            <div class="themes-grid" id="themes-grid">
                                <!-- Themes will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Theme Settings -->
                        <div class="theme-settings">
                            <h5>Theme Settings</h5>
                            <div class="settings-grid">
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="auto-seasonal-themes" checked>
                                        <span class="checkmark"></span>
                                        Automatically apply seasonal themes
                                    </label>
                                    <small>Enable to automatically switch themes based on holidays and seasons</small>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="seasonal-notifications" checked>
                                        <span class="checkmark"></span>
                                        Show seasonal notifications
                                    </label>
                                    <small>Get notified when seasonal themes are activated</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Premium Notice -->
                        <div class="premium-notice" id="seasonal-premium-notice" style="display: none;">
                            <div class="premium-banner">
                                <span aria-hidden="true">üåü</span>
                                <span>Upgrade to Premium to unlock all seasonal themes and features!</span>
                                <button type="button" class="btn btn-primary btn-sm" onclick="app.showUpgradeModal()">Upgrade</button>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Premium Features Section -->
                    <section class="settings-section">
                        <h4>üåü Premium Features</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Unlock advanced features to make chore management even more fun!</p>
                        
                        <div class="premium-features-grid">
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üé®</div>
                                <h5>Custom Chore Icons</h5>
                                <p>Choose from 8 different icons for each chore to make them more visual and fun!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                            
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üìÇ</div>
                                <h5>Chore Categories</h5>
                                <p>Organize chores by category: Kitchen, Bedroom, Bathroom, Outdoor, and more!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                            
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üèÜ</div>
                                <h5>Achievement Badges</h5>
                                <p>Earn badges for completing milestones and maintaining streaks!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                            
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üìä</div>
                                <h5>Advanced Analytics</h5>
                                <p>Get deeper insights with custom date ranges, predictive trends, and detailed child comparisons!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                            
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üîî</div>
                                <h5>Smart Notifications</h5>
                                <p>Get intelligent reminders, streak alerts, and personalized progress updates!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                            
                            <article class="premium-feature-card">
                                <div class="feature-icon" aria-hidden="true">üéÑ</div>
                                <h5>Seasonal Themes</h5>
                                <p>Celebrate holidays with special themes, decorations, and seasonal chore suggestions!</p>
                                <span class="premium-lock">Premium Feature</span>
                            </article>
                        </div>
                        
                        <section class="export-section">
                            <h5>üìä Export Family Report</h5>
                            <p>Download a comprehensive report of your family's chore progress and achievements.</p>
                            <button class="export-button" onclick="app.exportFamilyReport()" aria-label="Export family progress report">
                                üì• Export Report
                            </button>
                        </section>
                        
                        <section class="features-section">
                            <h5>üéâ What's New</h5>
                            <p>Check out the latest features and improvements in ChoreStar!</p>
                            <button class="btn btn-outline" onclick="app.showNewFeatures()" aria-label="View new features">
                                <span aria-hidden="true">‚ú®</span> View New Features
                            </button>
                        </section>
                        
                        <div style="text-align: center; margin-top: var(--space-6);">
                            <button class="btn btn-primary" onclick="app.showUpgradeModal()" aria-label="Upgrade to premium features">
                                <span aria-hidden="true">üåü</span> Upgrade to Premium
                            </button>
                        </div>
                    </section>
                </div>
            </div>
            
            <!-- Insights Tab (Combines Notifications + Analytics) -->
            <div id="insights-tab" class="tab-content" role="tabpanel" aria-labelledby="insights-tab-label">
                <div class="insights-content">
                    <h3 id="insights-tab-label">üìä Insights & Notifications</h3>
                    <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Track progress and manage your notification preferences.</p>
                    
                    <!-- Notifications Section -->
                    <section class="settings-section">
                        <h4>üîî Smart Notifications</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Manage your notification preferences and view recent alerts.</p>
                        
                        <!-- Notification Status -->
                        <div class="notification-status-section">
                            <div class="status-card">
                                <div class="status-icon">üîî</div>
                                <div class="status-content">
                                    <h5>Notification Status</h5>
                                    <p id="notification-status-text">Checking permissions...</p>
                                    <button class="btn btn-primary btn-sm" id="request-notifications-btn">Enable Notifications</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notification Preferences -->
                        <div class="notification-preferences">
                            <h5>üìã Notification Preferences</h5>
                            <div class="preferences-grid">
                                <div class="preference-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="chore-completion-notifications" checked>
                                        <span class="checkmark"></span>
                                        Chore completion alerts
                                    </label>
                                    <small>Get notified when chores are completed</small>
                                </div>
                                
                                <div class="preference-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="streak-notifications" checked>
                                        <span class="checkmark"></span>
                                        Streak celebrations
                                    </label>
                                    <small>Celebrate when someone maintains a streak</small>
                                </div>
                                
                                <div class="preference-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="achievement-notifications" checked>
                                        <span class="checkmark"></span>
                                        Achievement badges
                                    </label>
                                    <small>Notify when badges are earned</small>
                                </div>
                                
                                <div class="preference-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="family-goal-notifications" checked>
                                        <span class="checkmark"></span>
                                        Family goal progress
                                    </label>
                                    <small>Updates on family-wide goals</small>
                                </div>
                                
                                <div class="preference-item">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="seasonal-theme-notifications" checked>
                                        <span class="checkmark"></span>
                                        Seasonal theme alerts
                                    </label>
                                    <small>Get notified when seasonal themes activate</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Notifications -->
                        <div class="recent-notifications">
                            <h5>üì¨ Recent Notifications</h5>
                            <div class="notifications-list" id="notifications-list">
                                <p class="no-notifications">No recent notifications. Complete some chores to see alerts here!</p>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Analytics Section -->
                    <section class="settings-section">
                        <h4>üìä Analytics Dashboard</h4>
                        <p style="color: var(--gray-600); margin-bottom: var(--space-4);">Track progress, trends, and insights for your family.</p>
                        
                        <!-- Analytics Overview Cards -->
                        <div class="analytics-overview">
                            <article class="analytics-card">
                                <div class="analytics-card-icon" aria-hidden="true">üìà</div>
                                <div class="analytics-card-content">
                                    <h5>Weekly Progress</h5>
                                    <div class="analytics-card-value" id="weekly-progress-value">--</div>
                                    <div class="analytics-card-change" id="weekly-progress-change">--</div>
                                </div>
                            </article>
                            
                            <article class="analytics-card">
                                <div class="analytics-card-icon" aria-hidden="true">üí∞</div>
                                <div class="analytics-card-content">
                                    <h5>Total Earnings</h5>
                                    <div class="analytics-card-value" id="total-earnings-value">--</div>
                                    <div class="analytics-card-change" id="total-earnings-change">--</div>
                                </div>
                            </article>
                            
                            <article class="analytics-card">
                                <div class="analytics-card-icon" aria-hidden="true">üî•</div>
                                <div class="analytics-card-content">
                                    <h5>Best Streak</h5>
                                    <div class="analytics-card-value" id="best-streak-value">--</div>
                                    <div class="analytics-card-change" id="best-streak-change">--</div>
                                </div>
                            </article>
                            
                            <article class="analytics-card">
                                <div class="analytics-card-icon" aria-hidden="true">‚≠ê</div>
                                <div class="analytics-card-content">
                                    <h5>Perfect Days</h5>
                                    <div class="analytics-card-value" id="perfect-days-value">--</div>
                                    <div class="analytics-card-change" id="perfect-days-change">--</div>
                                </div>
                            </article>
                        </div>
                        
                        <!-- Date Range Selector -->
                        <div class="date-range-selector">
                            <label for="analytics-date-range">Time Period:</label>
                            <select id="analytics-date-range">
                                <option value="7">Last 7 days</option>
                                <option value="14">Last 14 days</option>
                                <option value="30" selected>Last 30 days</option>
                                <option value="90">Last 90 days</option>
                                <option value="custom">Custom range</option>
                            </select>
                        </div>
                        
                        <!-- No Data Message -->
                        <div id="analytics-no-data" class="analytics-no-data hidden">
                            <div class="no-data-content">
                                <div class="no-data-icon" aria-hidden="true">üìä</div>
                                <h5>No Data Collected Yet</h5>
                                <p>Start completing chores to see your analytics dashboard in action!</p>
                                <div class="no-data-tips">
                                    <h6>üí° Tips to get started:</h6>
                                    <ul>
                                        <li>Add children and chores to your family</li>
                                        <li>Mark chores as completed throughout the week</li>
                                        <li>Track progress and earn rewards</li>
                                        <li>Check back here to see your family's progress trends</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Charts Section -->
                        <div id="analytics-charts" class="charts-section">
                            <div class="chart-container">
                                <h5>üìä Progress Trend</h5>
                                <div class="chart-wrapper">
                                    <canvas id="progress-chart" role="img" aria-label="Progress trend chart"></canvas>
                                </div>
                            </div>
                            
                            <div class="chart-container">
                                <h5>üë• Child Comparison</h5>
                                <div class="chart-wrapper">
                                    <canvas id="comparison-chart" role="img" aria-label="Child comparison chart"></canvas>
                                </div>
                            </div>
                            
                            <div class="chart-container">
                                <h5>üìÖ Daily Activity</h5>
                                <div class="chart-wrapper">
                                    <canvas id="activity-chart" role="img" aria-label="Daily activity chart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Insights Section -->
                        <div class="insights-section">
                            <h5>üí° Insights</h5>
                            <div class="insights-grid" id="insights-grid">
                                <!-- Insights will be populated by JavaScript -->
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Suggestions Modal -->
    <div id="ai-suggestions-modal" class="modal hidden" role="dialog" aria-labelledby="ai-suggestions-modal-title" aria-hidden="true">
        <div class="modal-content modal-flex ai-suggestions-modal-content">
            <header class="modal-header">
                <h2 id="ai-suggestions-modal-title">ü§ñ Smart Activity Suggestions</h2>
                <button class="modal-close" data-modal="ai-suggestions-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-body-flex">
                <div id="ai-suggestions-content" class="modal-form form-col">
                    <!-- AI suggestions content will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Family Sharing Modal -->
    <div id="family-sharing-modal" class="modal hidden" role="dialog" aria-labelledby="family-sharing-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="family-sharing-modal-title">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Sharing</h2>
                <button class="modal-close" data-modal="family-sharing-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="modal-form">
                <div class="family-sharing-content">
                    <section class="share-family-section">
                        <h3>üì§ Share Your Family</h3>
                        <p>Share this code with family members to let them join your ChoreStar family!</p>
                        <div class="family-code-display">
                            <div class="code-box">
                                <span id="family-code">Loading...</span>
                                <button class="btn btn-secondary btn-sm" onclick="app.copyFamilyCode()" aria-label="Copy family code to clipboard">
                                    üìã Copy
                                </button>
                            </div>
                        </div>
                        <div class="family-members">
                            <h4>üë• Family Members</h4>
                            <div id="family-members-list">
                                <!-- Family members will be listed here -->
                            </div>
                        </div>
                    </section>
                    
                    <hr style="margin: var(--space-6) 0; border: none; border-top: 1px solid var(--gray-200);">
                    
                    <section class="join-family-section">
                        <h3>üì• Join a Family</h3>
                        <p>Enter a 6-digit family code to join another family's ChoreStar!</p>
                        <form id="join-family-form" class="join-family-form" role="form">
                            <div class="form-group">
                                <label for="join-family-code">Family Code</label>
                                <input type="text" id="join-family-code" maxlength="6" placeholder="123456" required aria-required="true" aria-describedby="family-code-help">
                                <small id="family-code-help">Enter the 6-digit code shared with you</small>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">Join Family</button>
                            </div>
                        </form>
                    </section>
                </div>
            </div>
        </div>
    </div>

    <!-- Bulk Edit Chores Modal -->
    <div id="bulk-edit-chores-modal" class="modal hidden" role="dialog" aria-labelledby="bulk-edit-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="bulk-edit-modal-title">‚úèÔ∏è Bulk Edit Chores</h2>
                <button class="modal-close" data-modal="bulk-edit-chores-modal" aria-label="Close modal">&times;</button>
            </header>
            <div class="bulk-edit-content">
                <section class="bulk-edit-selection">
                    <h3>Select Chores to Edit</h3>
                    <div id="bulk-edit-chores-list" role="group" aria-label="Select chores for bulk editing">
                        <!-- Chores will be listed here with checkboxes -->
                    </div>
                </section>
                
                <section class="bulk-edit-fields">
                    <h3>Edit Selected Chores</h3>
                    <form id="bulk-edit-form" class="modal-form" role="form">
                        <div class="form-group">
                            <label for="bulk-edit-reward">Reward (cents)</label>
                            <input type="number" id="bulk-edit-reward" min="1" max="100" placeholder="Leave empty to keep current" aria-describedby="bulk-reward-help">
                            <small id="bulk-reward-help">Amount earned when these chores are completed</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="bulk-edit-icon">Chore Icon</label>
                            <div class="icon-picker" id="bulk-edit-icon-picker" role="group" aria-label="Select icon for selected chores">
                                <button type="button" class="icon-option" data-icon="" aria-label="No change">No Change</button>
                                <button type="button" class="icon-option" data-icon="üìù" aria-label="Note pad icon">üìù</button>
                                <button type="button" class="icon-option" data-icon="üõèÔ∏è" aria-label="Bed icon">üõèÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üßπ" aria-label="Broom icon">üßπ</button>
                                <button type="button" class="icon-option" data-icon="üß∫" aria-label="Laundry basket icon">üß∫</button>
                                <button type="button" class="icon-option" data-icon="üçΩÔ∏è" aria-label="Dishes icon">üçΩÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üöø" aria-label="Shower icon">üöø</button>
                                <button type="button" class="icon-option" data-icon="üßΩ" aria-label="Sponge icon">üßΩ</button>
                                <button type="button" class="icon-option" data-icon="üóëÔ∏è" aria-label="Trash can icon">üóëÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üö™" aria-label="Door icon">üö™</button>
                                <button type="button" class="icon-option" data-icon="ü™ü" aria-label="Window icon">ü™ü</button>
                                <button type="button" class="icon-option" data-icon="ü™ë" aria-label="Chair icon">ü™ë</button>
                                <button type="button" class="icon-option" data-icon="üõãÔ∏è" aria-label="Couch icon">üõãÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="ü™û" aria-label="Mirror icon">ü™û</button>
                                <button type="button" class="icon-option" data-icon="üñºÔ∏è" aria-label="Picture frame icon">üñºÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üí°" aria-label="Light bulb icon">üí°</button>
                                <button type="button" class="icon-option" data-icon="üîå" aria-label="Plug icon">üîå</button>
                                <button type="button" class="icon-option" data-icon="üîã" aria-label="Battery icon">üîã</button>
                                <button type="button" class="icon-option" data-icon="üëï" aria-label="T-shirt icon">üëï</button>
                                <button type="button" class="icon-option" data-icon="üëñ" aria-label="Pants icon">üëñ</button>
                                <button type="button" class="icon-option" data-icon="üëü" aria-label="Shoes icon">üëü</button>
                                <button type="button" class="icon-option" data-icon="üéí" aria-label="Backpack icon">üéí</button>
                                <button type="button" class="icon-option" data-icon="üß∏" aria-label="Teddy bear icon">üß∏</button>
                                <button type="button" class="icon-option" data-icon="üìö" aria-label="Books icon">üìö</button>
                                <button type="button" class="icon-option" data-icon="üìñ" aria-label="Open book icon">üìñ</button>
                                <button type="button" class="icon-option" data-icon="‚úèÔ∏è" aria-label="Pencil icon">‚úèÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üé®" aria-label="Art palette icon">üé®</button>
                                <button type="button" class="icon-option" data-icon="üß†" aria-label="Brain icon">üß†</button>
                                <button type="button" class="icon-option" data-icon="üì±" aria-label="Phone icon">üì±</button>
                                <button type="button" class="icon-option" data-icon="üíª" aria-label="Laptop icon">üíª</button>
                                <button type="button" class="icon-option" data-icon="üéÆ" aria-label="Video game icon">üéÆ</button>
                                <button type="button" class="icon-option" data-icon="üêï" aria-label="Dog icon">üêï</button>
                                <button type="button" class="icon-option" data-icon="üê±" aria-label="Cat icon">üê±</button>
                                <button type="button" class="icon-option" data-icon="üê¶" aria-label="Bird icon">üê¶</button>
                                <button type="button" class="icon-option" data-icon="üê†" aria-label="Fish icon">üê†</button>
                                <button type="button" class="icon-option" data-icon="üêπ" aria-label="Hamster icon">üêπ</button>
                                <button type="button" class="icon-option" data-icon="üå±" aria-label="Seedling icon">üå±</button>
                                <button type="button" class="icon-option" data-icon="üå∫" aria-label="Flower icon">üå∫</button>
                                <button type="button" class="icon-option" data-icon="üå≥" aria-label="Tree icon">üå≥</button>
                                <button type="button" class="icon-option" data-icon="üåø" aria-label="Herb icon">üåø</button>
                                <button type="button" class="icon-option" data-icon="üçÉ" aria-label="Leaf icon">üçÉ</button>
                                <button type="button" class="icon-option" data-icon="üåßÔ∏è" aria-label="Rain icon">üåßÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="‚òÄÔ∏è" aria-label="Sun icon">‚òÄÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="‚ùÑÔ∏è" aria-label="Snowflake icon">‚ùÑÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üöó" aria-label="Car icon">üöó</button>
                                <button type="button" class="icon-option" data-icon="üö≤" aria-label="Bicycle icon">üö≤</button>
                                <button type="button" class="icon-option" data-icon="üõ¥" aria-label="Scooter icon">üõ¥</button>
                                <button type="button" class="icon-option" data-icon="üè†" aria-label="House icon">üè†</button>
                                <button type="button" class="icon-option" data-icon="üè°" aria-label="Home icon">üè°</button>
                                <button type="button" class="icon-option" data-icon="‚öΩ" aria-label="Soccer ball icon">‚öΩ</button>
                                <button type="button" class="icon-option" data-icon="üèÄ" aria-label="Basketball icon">üèÄ</button>
                                <button type="button" class="icon-option" data-icon="üéæ" aria-label="Tennis ball icon">üéæ</button>
                                <button type="button" class="icon-option" data-icon="üèä" aria-label="Swimming icon">üèä</button>
                                <button type="button" class="icon-option" data-icon="üö¥" aria-label="Cycling icon">üö¥</button>
                                <button type="button" class="icon-option" data-icon="üèÉ" aria-label="Running icon">üèÉ</button>
                                <button type="button" class="icon-option" data-icon="üßò" aria-label="Meditation icon">üßò</button>
                                <button type="button" class="icon-option" data-icon="üí™" aria-label="Muscle icon">üí™</button>
                                <button type="button" class="icon-option" data-icon="üéØ" aria-label="Target icon">üéØ</button>
                                <button type="button" class="icon-option" data-icon="üéµ" aria-label="Musical note icon">üéµ</button>
                                <button type="button" class="icon-option" data-icon="üé§" aria-label="Microphone icon">üé§</button>
                                <button type="button" class="icon-option" data-icon="üéß" aria-label="Headphones icon">üéß</button>
                                <button type="button" class="icon-option" data-icon="üéπ" aria-label="Piano icon">üéπ</button>
                                <button type="button" class="icon-option" data-icon="üé∏" aria-label="Guitar icon">üé∏</button>
                                <button type="button" class="icon-option" data-icon="ü•Å" aria-label="Drums icon">ü•Å</button>
                                <button type="button" class="icon-option" data-icon="üé∫" aria-label="Trumpet icon">üé∫</button>
                                <button type="button" class="icon-option" data-icon="üéª" aria-label="Violin icon">üéª</button>
                                <button type="button" class="icon-option" data-icon="üéº" aria-label="Sheet music icon">üéº</button>
                                <button type="button" class="icon-option" data-icon="üé≠" aria-label="Theater masks icon">üé≠</button>
                                <button type="button" class="icon-option" data-icon="üé¨" aria-label="Movie camera icon">üé¨</button>
                                <button type="button" class="icon-option" data-icon="üéâ" aria-label="Party popper icon">üéâ</button>
                                <button type="button" class="icon-option" data-icon="üéä" aria-label="Confetti ball icon">üéä</button>
                                <button type="button" class="icon-option" data-icon="üéà" aria-label="Balloon icon">üéà</button>
                                <button type="button" class="icon-option" data-icon="üéÅ" aria-label="Gift icon">üéÅ</button>
                                <button type="button" class="icon-option" data-icon="üéÑ" aria-label="Christmas tree icon">üéÑ</button>
                                <button type="button" class="icon-option" data-icon="üéÉ" aria-label="Pumpkin icon">üéÉ</button>
                                <button type="button" class="icon-option" data-icon="üé™" aria-label="Circus tent icon">üé™</button>
                                <button type="button" class="icon-option" data-icon="‚ù§Ô∏è" aria-label="Heart icon">‚ù§Ô∏è</button>
                                <button type="button" class="icon-option" data-icon="üåü" aria-label="Star icon">üåü</button>
                                <button type="button" class="icon-option" data-icon="‚≠ê" aria-label="Star icon">‚≠ê</button>
                                <button type="button" class="icon-option" data-icon="‚ú®" aria-label="Sparkles icon">‚ú®</button>
                                <button type="button" class="icon-option" data-icon="üíé" aria-label="Diamond icon">üíé</button>
                                <button type="button" class="icon-option" data-icon="üèÜ" aria-label="Trophy icon">üèÜ</button>
                                <button type="button" class="icon-option" data-icon="üéñÔ∏è" aria-label="Medal icon">üéñÔ∏è</button>
                                <button type="button" class="icon-option" data-icon="üëë" aria-label="Crown icon">üëë</button>
                                <button type="button" class="icon-option" data-icon="üí´" aria-label="Dizzy star icon">üí´</button>
                                <button type="button" class="icon-option" data-icon="üåà" aria-label="Rainbow icon">üåà</button>
                            </div>
                            <input type="hidden" id="bulk-edit-icon" value="">
                        </div>
                        
                        <div class="form-group">
                            <label for="bulk-edit-category">Category</label>
                            <select id="bulk-edit-category">
                                <option value="">No Change</option>
                                <option value="General">General</option>
                                <option value="Kitchen">Kitchen</option>
                                <option value="Bathroom">Bathroom</option>
                                <option value="Bedroom">Bedroom</option>
                                <option value="Outdoor">Outdoor</option>
                                <option value="School">School</option>
                                <option value="Personal">Personal</option>
                                <option value="Technology">Technology</option>
                                <option value="Pets">Pets</option>
                                <option value="Plants">Plants</option>
                            </select>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-outline" onclick="app.hideModal('bulk-edit-chores-modal')">Cancel</button>
                            <button type="submit" class="btn btn-primary">Update Selected Chores</button>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>

    <!-- Edit Chore Modal -->
    <div id="edit-chore-modal" class="modal hidden" role="dialog" aria-labelledby="edit-chore-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="edit-chore-modal-title">‚úèÔ∏è Edit Chore</h2>
                <button class="modal-close" data-modal="edit-chore-modal" aria-label="Close modal">&times;</button>
            </header>
            <form id="edit-chore-form" class="modal-form" role="form">
                <div class="form-group">
                    <label for="edit-chore-name">Chore Name</label>
                    <input type="text" id="edit-chore-name" required placeholder="e.g., Make bed" aria-required="true">
                </div>
                <div class="form-group">
                    <label for="edit-chore-child">For Child</label>
                    <input type="text" id="edit-chore-child" readonly style="background-color: var(--gray-100); color: var(--gray-600); border: 1px solid var(--gray-300); border-radius: 4px; padding: 8px 12px; width: 100%; box-sizing: border-box;" aria-describedby="edit-chore-child-help">
                    <small id="edit-chore-child-help">This chore belongs to the selected child</small>
                </div>
                <div class="form-group">
                    <label for="edit-chore-reward">Reward (cents)</label>
                    <input type="number" id="edit-chore-reward" min="1" max="100" value="7" required aria-required="true" aria-describedby="edit-chore-reward-help">
                    <small id="edit-chore-reward-help">Amount earned when this chore is completed</small>
                </div>
                <div class="form-group">
                    <label for="edit-chore-icon">Chore Icon</label>
                    <div class="icon-picker" id="edit-chore-icon-picker" role="group" aria-label="Select chore icon">
                        <!-- All icons with proper aria-labels... -->
                        <button type="button" class="icon-option active" data-icon="üìù" aria-label="Note pad icon">üìù</button>
                        <button type="button" class="icon-option" data-icon="üõèÔ∏è" aria-label="Bed icon">üõèÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üßπ" aria-label="Broom icon">üßπ</button>
                        <button type="button" class="icon-option" data-icon="üß∫" aria-label="Laundry basket icon">üß∫</button>
                        <button type="button" class="icon-option" data-icon="üçΩÔ∏è" aria-label="Dishes icon">üçΩÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üöø" aria-label="Shower icon">üöø</button>
                        <button type="button" class="icon-option" data-icon="üßΩ" aria-label="Sponge icon">üßΩ</button>
                        <button type="button" class="icon-option" data-icon="üóëÔ∏è" aria-label="Trash can icon">üóëÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üö™" aria-label="Door icon">üö™</button>
                        <button type="button" class="icon-option" data-icon="ü™ü" aria-label="Window icon">ü™ü</button>
                        <button type="button" class="icon-option" data-icon="ü™ë" aria-label="Chair icon">ü™ë</button>
                        <button type="button" class="icon-option" data-icon="üõãÔ∏è" aria-label="Couch icon">üõãÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="ü™û" aria-label="Mirror icon">ü™û</button>
                        <button type="button" class="icon-option" data-icon="üñºÔ∏è" aria-label="Picture frame icon">üñºÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üí°" aria-label="Light bulb icon">üí°</button>
                        <button type="button" class="icon-option" data-icon="üîå" aria-label="Plug icon">üîå</button>
                        <button type="button" class="icon-option" data-icon="üîã" aria-label="Battery icon">üîã</button>
                        <button type="button" class="icon-option" data-icon="üëï" aria-label="T-shirt icon">üëï</button>
                        <button type="button" class="icon-option" data-icon="üëñ" aria-label="Pants icon">üëñ</button>
                        <button type="button" class="icon-option" data-icon="üëü" aria-label="Shoes icon">üëü</button>
                        <button type="button" class="icon-option" data-icon="üéí" aria-label="Backpack icon">üéí</button>
                        <button type="button" class="icon-option" data-icon="üß∏" aria-label="Teddy bear icon">üß∏</button>
                        <button type="button" class="icon-option" data-icon="üìö" aria-label="Books icon">üìö</button>
                        <button type="button" class="icon-option" data-icon="üìñ" aria-label="Open book icon">üìñ</button>
                        <button type="button" class="icon-option" data-icon="‚úèÔ∏è" aria-label="Pencil icon">‚úèÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üé®" aria-label="Art palette icon">üé®</button>
                        <button type="button" class="icon-option" data-icon="üß†" aria-label="Brain icon">üß†</button>
                        <button type="button" class="icon-option" data-icon="üì±" aria-label="Phone icon">üì±</button>
                        <button type="button" class="icon-option" data-icon="üíª" aria-label="Laptop icon">üíª</button>
                        <button type="button" class="icon-option" data-icon="üéÆ" aria-label="Video game icon">üéÆ</button>
                        <button type="button" class="icon-option" data-icon="üêï" aria-label="Dog icon">üêï</button>
                        <button type="button" class="icon-option" data-icon="üê±" aria-label="Cat icon">üê±</button>
                        <button type="button" class="icon-option" data-icon="üê¶" aria-label="Bird icon">üê¶</button>
                        <button type="button" class="icon-option" data-icon="üê†" aria-label="Fish icon">üê†</button>
                        <button type="button" class="icon-option" data-icon="üêπ" aria-label="Hamster icon">üêπ</button>
                        <button type="button" class="icon-option" data-icon="üå±" aria-label="Seedling icon">üå±</button>
                        <button type="button" class="icon-option" data-icon="üå∫" aria-label="Flower icon">üå∫</button>
                        <button type="button" class="icon-option" data-icon="üå≥" aria-label="Tree icon">üå≥</button>
                        <button type="button" class="icon-option" data-icon="üåø" aria-label="Herb icon">üåø</button>
                        <button type="button" class="icon-option" data-icon="üçÉ" aria-label="Leaf icon">üçÉ</button>
                        <button type="button" class="icon-option" data-icon="üåßÔ∏è" aria-label="Rain icon">üåßÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="‚òÄÔ∏è" aria-label="Sun icon">‚òÄÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="‚ùÑÔ∏è" aria-label="Snowflake icon">‚ùÑÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üöó" aria-label="Car icon">üöó</button>
                        <button type="button" class="icon-option" data-icon="üö≤" aria-label="Bicycle icon">üö≤</button>
                        <button type="button" class="icon-option" data-icon="üõ¥" aria-label="Scooter icon">üõ¥</button>
                        <button type="button" class="icon-option" data-icon="üè†" aria-label="House icon">üè†</button>
                        <button type="button" class="icon-option" data-icon="üè°" aria-label="Home icon">üè°</button>
                        <button type="button" class="icon-option" data-icon="‚öΩ" aria-label="Soccer ball icon">‚öΩ</button>
                        <button type="button" class="icon-option" data-icon="üèÄ" aria-label="Basketball icon">üèÄ</button>
                        <button type="button" class="icon-option" data-icon="üéæ" aria-label="Tennis ball icon">üéæ</button>
                        <button type="button" class="icon-option" data-icon="üèä" aria-label="Swimming icon">üèä</button>
                        <button type="button" class="icon-option" data-icon="üö¥" aria-label="Cycling icon">üö¥</button>
                        <button type="button" class="icon-option" data-icon="üèÉ" aria-label="Running icon">üèÉ</button>
                        <button type="button" class="icon-option" data-icon="üßò" aria-label="Meditation icon">üßò</button>
                        <button type="button" class="icon-option" data-icon="üí™" aria-label="Muscle icon">üí™</button>
                        <button type="button" class="icon-option" data-icon="üéØ" aria-label="Target icon">üéØ</button>
                        <button type="button" class="icon-option" data-icon="üéµ" aria-label="Musical note icon">üéµ</button>
                        <button type="button" class="icon-option" data-icon="üé§" aria-label="Microphone icon">üé§</button>
                        <button type="button" class="icon-option" data-icon="üéß" aria-label="Headphones icon">üéß</button>
                        <button type="button" class="icon-option" data-icon="üéπ" aria-label="Piano icon">üéπ</button>
                        <button type="button" class="icon-option" data-icon="üé∏" aria-label="Guitar icon">üé∏</button>
                        <button type="button" class="icon-option" data-icon="ü•Å" aria-label="Drums icon">ü•Å</button>
                        <button type="button" class="icon-option" data-icon="üé∫" aria-label="Trumpet icon">üé∫</button>
                        <button type="button" class="icon-option" data-icon="üéª" aria-label="Violin icon">üéª</button>
                        <button type="button" class="icon-option" data-icon="üéº" aria-label="Sheet music icon">üéº</button>
                        <button type="button" class="icon-option" data-icon="üé≠" aria-label="Theater masks icon">üé≠</button>
                        <button type="button" class="icon-option" data-icon="üé¨" aria-label="Movie camera icon">üé¨</button>
                        <button type="button" class="icon-option" data-icon="üéâ" aria-label="Party popper icon">üéâ</button>
                        <button type="button" class="icon-option" data-icon="üéä" aria-label="Confetti ball icon">üéä</button>
                        <button type="button" class="icon-option" data-icon="üéà" aria-label="Balloon icon">üéà</button>
                        <button type="button" class="icon-option" data-icon="üéÅ" aria-label="Gift icon">üéÅ</button>
                        <button type="button" class="icon-option" data-icon="üéÑ" aria-label="Christmas tree icon">üéÑ</button>
                        <button type="button" class="icon-option" data-icon="üéÉ" aria-label="Pumpkin icon">üéÉ</button>
                        <button type="button" class="icon-option" data-icon="üé™" aria-label="Circus tent icon">üé™</button>
                        <button type="button" class="icon-option" data-icon="‚ù§Ô∏è" aria-label="Heart icon">‚ù§Ô∏è</button>
                        <button type="button" class="icon-option" data-icon="üåü" aria-label="Star icon">üåü</button>
                        <button type="button" class="icon-option" data-icon="‚≠ê" aria-label="Star icon">‚≠ê</button>
                        <button type="button" class="icon-option" data-icon="‚ú®" aria-label="Sparkles icon">‚ú®</button>
                        <button type="button" class="icon-option" data-icon="üíé" aria-label="Diamond icon">üíé</button>
                        <button type="button" class="icon-option" data-icon="üèÜ" aria-label="Trophy icon">üèÜ</button>
                        <button type="button" class="icon-option" data-icon="üéñÔ∏è" aria-label="Medal icon">üéñÔ∏è</button>
                        <button type="button" class="icon-option" data-icon="üëë" aria-label="Crown icon">üëë</button>
                        <button type="button" class="icon-option" data-icon="üí´" aria-label="Dizzy star icon">üí´</button>
                        <button type="button" class="icon-option" data-icon="üåà" aria-label="Rainbow icon">üåà</button>
                    </div>
                    <input type="hidden" id="edit-chore-icon" value="üìù">
                </div>
                
                <div class="form-group">
                    <label for="edit-chore-category">Category</label>
                    <select id="edit-chore-category">
                        <option value="General">General</option>
                        <option value="Kitchen">Kitchen</option>
                        <option value="Bathroom">Bathroom</option>
                        <option value="Bedroom">Bedroom</option>
                        <option value="Outdoor">Outdoor</option>
                        <option value="School">School</option>
                        <option value="Personal">Personal</option>
                        <option value="Technology">Technology</option>
                        <option value="Pets">Pets</option>
                        <option value="Plants">Plants</option>
                    </select>
                </div>
                
                <!-- Premium-only color picker for edit chore modal -->
                <div class="edit-premium-features" id="edit-premium-features" style="display:none;">
                    <div class="form-group">
                        <label for="edit-chore-color">Chore Color</label>
                        <div class="color-picker-row">
                            <input type="color" id="edit-chore-color" value="#ff6b6b" style="width: 48px; height: 32px; border: none; background: none; cursor: pointer;" aria-label="Select chore color">
                            <div class="color-presets" style="display: flex; gap: var(--space-1);" role="group" aria-label="Preset chore colors">
                                <button type="button" class="color-preset" data-color="#ff6b6b" style="width: 24px; height: 24px; background: #ff6b6b; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Red"></button>
                                <button type="button" class="color-preset" data-color="#4ecdc4" style="width: 24px; height: 24px; background: #4ecdc4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Teal"></button>
                                <button type="button" class="color-preset" data-color="#45b7d1" style="width: 24px; height: 24px; background: #45b7d1; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Blue"></button>
                                <button type="button" class="color-preset" data-color="#96ceb4" style="width: 24px; height: 24px; background: #96ceb4; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Green"></button>
                                <button type="button" class="color-preset" data-color="#feca57" style="width: 24px; height: 24px; background: #feca57; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Yellow"></button>
                                <button type="button" class="color-preset" data-color="#ff9ff3" style="width: 24px; height: 24px; background: #ff9ff3; border: 2px solid #fff; border-radius: 50%; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);" aria-label="Pink"></button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="edit-chore-notes">üìù Notes (optional)</label>
                    <input type="text" id="edit-chore-notes" placeholder="Any additional notes about this chore..." />
                    <small style="color: var(--gray-500); margin-top: 4px;">Add helpful details like specific instructions or reminders</small>
                </div>
                
                <!-- Drag and Drop Chore Reordering Section -->
                <div class="form-group" id="edit-chore-reorder-section" style="display: none;">
                    <label>üîÑ Reorder Chores</label>
                    <div class="chore-reorder-list" id="edit-chore-reorder-list">
                        <!-- Chores will be populated here -->
                    </div>
                    <small style="color: var(--gray-500); margin-top: 4px;">Drag and drop chores to reorder them</small>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="app.hideModal('edit-chore-modal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Child Inline Template -->
    <template id="edit-child-inline-template">
        <div class="edit-inline-form" style="margin-top:8px;padding:12px 16px;background:var(--gray-50);border-radius:8px;display:flex;align-items:center;gap:12px;">
          <form class="modal-form" autocomplete="off" style="display:flex;align-items:center;gap:12px;" role="form">
            <input type="text" name="name" class="input" placeholder="Child's Name" required style="min-width:120px;" aria-label="Child's name">
            <input type="number" name="age" class="input" min="1" max="18" placeholder="Age" required style="width:60px;" aria-label="Child's age">
            <input type="color" name="color" class="input" value="#6366f1" style="width:40px;height:40px;" aria-label="Avatar color">
            <div class="inline-dicebear-picker" style="display:flex;gap:4px;"></div>
            <button type="button" class="btn btn-outline btn-sm cancel-edit">Cancel</button>
            <button type="submit" class="btn btn-primary btn-sm">Save</button>
          </form>
        </div>
    </template>

    <!-- FAQ Modal -->
    <div id="faq-modal" class="modal hidden" role="dialog" aria-labelledby="faq-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="faq-modal-title">‚ùì Frequently Asked Questions</h2>
                <button class="modal-close" data-modal="faq-modal" aria-label="Close modal">&times;</button>
            </header>
            
            <div class="faq-content">
                <section class="faq-section">
                    <h3>üè† Getting Started</h3>
                    
                    <article class="faq-item">
                        <h4>How do I add my first child?</h4>
                        <p>Click the "Add Your Child" button on the main screen. You'll need to provide their name, age, and choose a color for their profile.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>How do I create chores?</h4>
                        <p>After adding a child, click the "Add Chore" button. You can create multiple chores at once and assign them to specific children.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>How does the reward system work?</h4>
                        <p>Each completed chore earns 7¬¢ by default. Complete all chores for a day to earn the daily reward. Complete all chores for the week to earn a bonus!</p>
                    </article>
                </section>
                
                <section class="faq-section">
                    <h3>üí∞ Premium Features</h3>
                    
                    <article class="faq-item">
                        <h4>What's included in Premium?</h4>
                        <p>Premium includes custom chore colors, expanded icon sets, chore categories, unlimited chores, and priority support.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>How much does Premium cost?</h4>
                        <p>Premium is $4.99/month or $49.99/year, giving you access to all advanced features for your entire family.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>Can I cancel Premium anytime?</h4>
                        <p>Yes! You can cancel your Premium subscription at any time through your account settings. You'll keep access until the end of your billing period.</p>
                    </article>
                </section>
                
                <section class="faq-section">
                    <h3>üì± Using the App</h3>
                    
                    <article class="faq-item">
                        <h4>How do I mark chores as complete?</h4>
                        <p>Simply click on any day in the chore grid to mark it as complete (‚úì) or incomplete. The progress bar updates instantly!</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>What are the Quick Actions?</h4>
                        <p>Quick Actions let you mark all chores for today, mark all chores for the week, or clear all chores for today with one click.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>How do I view chore history?</h4>
                        <p>Click the "üìä History" button on any child's card to see their completion history and statistics.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>What are Chore Challenges?</h4>
                        <p>Challenges track special achievements like streaks, perfect days, and weekly goals. Click "üèÜ Challenges" to see progress!</p>
                    </article>
                </section>
                
                <section class="faq-section">
                    <h3>üîß Technical Support</h3>
                    
                    <article class="faq-item">
                        <h4>My progress bar isn't updating</h4>
                        <p>Try refreshing the page. If the issue persists, check your internet connection and try again. Progress updates should be instant!</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>I can't log in to my account</h4>
                        <p>Make sure you're using the correct email and password. If you forgot your password, use the "Forgot password?" link on the login screen.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>The app looks different on my phone</h4>
                        <p>The app is designed to work on all devices! Try rotating your phone or refreshing the page for the best experience.</p>
                    </article>
                </section>
                
                <section class="faq-section">
                    <h3>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Features</h3>
                    
                    <article class="faq-item">
                        <h4>How do I invite family members?</h4>
                        <p>Go to Settings ‚Üí Family Sharing to get your family code. Share this code with family members to let them join your family account.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>Can multiple parents use the app?</h4>
                        <p>Yes! Multiple family members can access the same account using the family code. Everyone sees the same chore data and progress.</p>
                    </article>
                    
                    <article class="faq-item">
                        <h4>How do I change family settings?</h4>
                        <p>Click the gear icon (‚öôÔ∏è) in the top right to access family settings, including reward amounts and child management.</p>
                    </article>
                </section>
            </div>
            
            <footer class="modal-footer">
                <p>Still have questions? <a href="#" onclick="app.showModal('contact-modal'); app.hideModal('faq-modal')">Contact us</a> for help!</p>
            </footer>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contact-modal" class="modal hidden" role="dialog" aria-labelledby="contact-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="contact-modal-title">üìß Contact Us</h2>
                <button class="modal-close" data-modal="contact-modal" aria-label="Close modal">&times;</button>
            </header>
            
            <div class="contact-content">
                <section class="contact-info">
                    <h3>Get in Touch</h3>
                    <p>We're here to help! Send us a message and we'll get back to you within 24 hours.</p>
                    
                    <div class="contact-methods">
                        <div class="contact-method">
                            <span class="contact-icon" aria-hidden="true">üìß</span>
                            <div>
                                <strong>Email Support</strong>
                                <p>support@chorestar.app</p>
                            </div>
                        </div>
                        
                        <div class="contact-method">
                            <span class="contact-icon" aria-hidden="true">‚è∞</span>
                            <div>
                                <strong>Response Time</strong>
                                <p>Within 24 hours</p>
                            </div>
                        </div>
                        
                        <div class="contact-method">
                            <span class="contact-icon" aria-hidden="true">üåç</span>
                            <div>
                                <strong>Available</strong>
                                <p>Monday - Friday, 9AM - 6PM CST</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <form id="contact-form" class="contact-form" role="form">
                    <!-- Anti-spam honeypot fields (hidden from users) -->
                    <div class="honeypot-field" style="display: none; position: absolute; left: -9999px;">
                        <input type="text" id="contact-website" name="website" tabindex="-1" autocomplete="off">
                        <input type="email" id="contact-email-confirm" name="email-confirm" tabindex="-1" autocomplete="off">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-name">Your Name</label>
                        <input type="text" id="contact-name" required placeholder="Enter your name" maxlength="100" autocomplete="name" aria-required="true">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-email">Email Address</label>
                        <input type="email" id="contact-email" required placeholder="Enter your email" maxlength="100" autocomplete="email" aria-required="true">
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-subject">Subject</label>
                        <select id="contact-subject" required aria-required="true">
                            <option value="">Select a topic</option>
                            <option value="general">General Question</option>
                            <option value="technical">Technical Issue</option>
                            <option value="billing">Billing & Premium</option>
                            <option value="feature">Feature Request</option>
                            <option value="bug">Bug Report</option>
                            <option value="feedback">Feedback</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="contact-message">Message</label>
                        <textarea id="contact-message" rows="5" required placeholder="Tell us how we can help you..." maxlength="1000" aria-required="true" aria-describedby="contact-message-count"></textarea>
                        <small class="char-count" id="contact-message-count">0/1000 characters</small>
                    </div>
                    
                    <!-- Human verification -->
                    <div class="form-group verification-group">
                        <label for="contact-verification">Verification: What is 3 + 5?</label>
                        <input type="number" id="contact-verification" required placeholder="Enter the answer" min="1" max="20" aria-required="true" aria-describedby="contact-verification-help">
                        <small id="contact-verification-help">This helps us prevent spam</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="app.hideModal('contact-modal')">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="contact-submit-btn">
                            <span class="btn-text">Send Message</span>
                            <span class="btn-loading" style="display: none;">Sending...</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- New Features Modal -->
    <div id="new-features-modal" class="modal hidden" role="dialog" aria-labelledby="new-features-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="new-features-modal-title">üéâ What's New in ChoreStar!</h2>
                <button class="modal-close" data-modal="new-features-modal" aria-label="Close modal">&times;</button>
            </header>
            
            <div class="new-features-content">
                <div class="features-intro">
                    <p>We've been busy adding exciting new features to make your family's chore experience even better!</p>
                </div>
                
                <div class="features-list">
                    <div class="feature-item">
                        <div class="feature-icon">üìä</div>
                        <div class="feature-content">
                            <h3>Weekly Summary Export</h3>
                            <p>Export detailed weekly reports showing completion rates, earnings, and perfect days for each child. Perfect for tracking progress over time!</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">üìÑ</div>
                        <div class="feature-content">
                            <h3>PDF Reports</h3>
                            <p>Generate professional PDF reports of your family's chore progress. Great for sharing with grandparents or keeping records!</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">üîÑ</div>
                        <div class="feature-content">
                            <h3>Chore Reordering</h3>
                            <p>Drag and drop to reorder chores for each child. Organize them however works best for your family!</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">üìß</div>
                        <div class="feature-content">
                            <h3>Enhanced Contact Support</h3>
                            <p>Improved contact form with better email integration. We'll get back to you faster than ever!</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">üé®</div>
                        <div class="feature-content">
                            <h3>New Icon Picker</h3>
                            <p>Choose from 50+ fun icons for chores! Kids love picking their own icons to make chores more personal.</p>
                        </div>
                    </div>
                </div>
                
                <div class="features-footer">
                    <p class="features-note">üí° <strong>Pro Tip:</strong> Try the new drag-and-drop chore reordering by dragging any chore cell in the chore grid!</p>
                </div>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="app.hideModal('new-features-modal')">
                    Awesome! Let's Go! üöÄ
                </button>
            </div>
        </div>
    </div>

    <!-- Icon Picker Modal -->
    <div id="icon-picker-modal" class="modal hidden" role="dialog" aria-labelledby="icon-picker-modal-title" aria-hidden="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="icon-picker-modal-title">üé® Choose an Icon</h2>
                <button class="modal-close" data-modal="icon-picker-modal" onclick="closeIconPicker()" aria-label="Close icon picker">&times;</button>
            </header>
            <div class="modal-body">
                <div class="icon-picker-tabs">
                    <button type="button" class="icon-tab active" data-tab="robots">ü§ñ Robots</button>
                    <button type="button" class="icon-tab" data-tab="adventurers">üßë‚ÄçüöÄ Adventurers</button>
                    <button type="button" class="icon-tab" data-tab="emojis">üòÑ Fun Emojis</button>
                </div>
                <div class="icon-picker-content">
                    <div id="robots-tab" class="icon-tab-content active">
                        <div class="icon-grid" id="robots-grid">
                            <!-- Robot icons will be populated here -->
                        </div>
                    </div>
                    <div id="adventurers-tab" class="icon-tab-content">
                        <div class="icon-grid" id="adventurers-grid">
                            <!-- Adventurer icons will be populated here -->
                        </div>
                    </div>
                    <div id="emojis-tab" class="icon-tab-content">
                        <div class="icon-grid" id="emojis-grid">
                            <!-- Fun emoji icons will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="config.js"></script>
    <script src="supabase-config.js?v=2"></script>
    <script src="api-client.js?v=2"></script>
    <script src="analytics.js?v=1"></script>
    <script src="notifications.js?v=1"></script>
    <script src="family-sharing.js?v=1"></script>
    <script src="payment.js?v=1"></script>
    <script src="script.js?v=19"></script>
    <script src="safe-optimizations.js?v=1"></script>
    <script src="demo-data.js?v=5"></script>
    <script src="toast-cleanup.js?v=2"></script>
    
    <!-- Smart Footer -->
    <footer class="smart-footer" id="smart-footer">
        <div class="footer-content">
            <!-- Language & Currency Settings -->
            <div class="footer-settings">
                <div class="footer-setting-group">
                    <label for="footer-language-select" class="footer-label">üåê</label>
                    <select id="footer-language-select" class="footer-select" aria-label="Select language" title="üåê Change App Language">
                        <option value="en">üá∫üá∏ English</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                        <option value="fr">üá´üá∑ Fran√ßais</option>
                        <option value="de">üá©üá™ Deutsch</option>
                    </select>
                </div>
                
                <div class="footer-setting-group">
                    <label for="footer-currency-select" class="footer-label">$</label>
                    <select id="footer-currency-select" class="footer-select" aria-label="Select currency" title="$ Change Currency">
                        <option value="USD">üá∫üá∏ USD</option>
                        <option value="GBP">üá¨üáß GBP</option>
                        <option value="EUR">üá™üá∫ EUR</option>
                        <option value="CAD">üá®üá¶ CAD</option>
                        <option value="AUD">üá¶üá∫ AUD</option>
                        <option value="JPY">üáØüáµ JPY</option>
                        <option value="CHF">üá®üá≠ CHF</option>
                        <option value="SEK">üá∏üá™ SEK</option>
                        <option value="NOK">üá≥üá¥ NOK</option>
                        <option value="DKK">üá©üá∞ DKK</option>
                        <option value="PLN">üáµüá± PLN</option>
                        <option value="CZK">üá®üáø CZK</option>
                        <option value="HUF">üá≠üá∫ HUF</option>
                        <option value="INR">üáÆüá≥ INR</option>
                        <option value="BRL">üáßüá∑ BRL</option>
                        <option value="MXN">üá≤üáΩ MXN</option>
                        <option value="KRW">üá∞üá∑ KRW</option>
                        <option value="SGD">üá∏üá¨ SGD</option>
                        <option value="HKD">üá≠üá∞ HKD</option>
                        <option value="NZD">üá≥üáø NZD</option>
                    </select>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="footer-actions">
                <button class="footer-action-btn" id="footer-theme-toggle" title="üåô Toggle Dark/Light Mode" aria-label="Toggle dark mode">
                    <span class="footer-icon">üåô</span>
                    <span class="footer-label-text">Theme</span>
                </button>
                <button class="footer-action-btn" id="footer-sound-toggle" title="‚ô™ Toggle Sound Effects On/Off" aria-label="Toggle sound effects">
                    <span class="footer-icon">‚ô™</span>
                    <span class="footer-label-text">Sound</span>
                </button>
                <button class="footer-action-btn" id="footer-help-btn" title="‚ùì View Help & FAQ" aria-label="Help and support">
                    <span class="footer-icon">‚ùì</span>
                    <span class="footer-label-text">Help</span>
                </button>
                <button class="footer-action-btn" id="footer-contact-btn" title="‚úâ Contact Support" aria-label="Contact support">
                    <span class="footer-icon">‚úâ</span>
                    <span class="footer-label-text">Contact</span>
                </button>
            </div>
        </div>
        
        <!-- Footer Info -->
        <div class="footer-info">
            <span class="footer-brand">ChoreStar</span>
            <span class="footer-separator">‚Ä¢</span>
            <span class="footer-version">v2025.1</span>
        </div>
    </footer>
</body>
</html>