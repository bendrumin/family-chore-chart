@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Celebration Styles */
.rainbow-theme {
  animation: rainbowBackground 3s linear infinite;
}

@keyframes rainbowBackground {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

.achievement-unlock {
  animation: achievementPulse 0.6s ease;
}

@keyframes achievementPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.streak-flame {
  display: inline-block;
  animation: flameFlicker 0.5s ease-in-out infinite;
}

@keyframes flameFlicker {
  0%, 100% { transform: scaleY(1) rotate(-2deg); }
  50% { transform: scaleY(1.1) rotate(2deg); }
}

.perfect-week-glow {
  animation: perfectGlow 2s ease-in-out infinite;
}

@keyframes perfectGlow {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
  }
  50% { 
    box-shadow: 0 0 40px rgba(139, 92, 246, 0.8);
  }
}

@layer base {
  :root {
    /* Professional Color System */
    --primary: #6366f1;
    --primary-dark: #4f46e5;
    --primary-light: #818cf8;
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;

    /* Neutral Palette */
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --card-bg: rgba(255, 255, 255, 0.98);
    --surface-border: rgba(148, 163, 184, 0.2);

    /* Text Hierarchy */
    --text-primary: #0f172a;
    --text-secondary: #64748b;
    --text-tertiary: #94a3b8;
    --text-inverse: #ffffff;

    /* Professional Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

    /* Consistent Border Radius */
    --radius-sm: 0.5rem;      /* 8px */
    --radius-md: 0.75rem;     /* 12px */
    --radius-lg: 1rem;        /* 16px */
    --radius-xl: 1.5rem;      /* 24px */

    /* Professional Gradients */
    --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
    --gradient-success: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
    --gradient-warning: linear-gradient(135deg, #f59e0b 0%, #f97316 100%);
    --gradient-bg: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);

    /* Tailwind Compatibility */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --border: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.75rem;
  }

  .dark {
    /* Dark Mode Colors */
    --primary: #818cf8;
    --primary-dark: #6366f1;
    --primary-light: #a5b4fc;

    --bg-primary: #1f2937;
    --bg-secondary: #111827;
    --card-bg: rgba(31, 41, 55, 0.95);
    --surface-border: rgba(255, 255, 255, 0.08);

    --text-primary: #f9fafb;
    --text-secondary: #9ca3af;

    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.3);
    --shadow-xl: 0 20px 60px rgba(0, 0, 0, 0.5);

    --gradient-bg: linear-gradient(135deg, rgba(31, 41, 55, 0.9), rgba(55, 65, 81, 0.9));

    /* Tailwind Dark */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    background-color: hsl(var(--background));
    font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    background-color: hsl(var(--background));
  }

  /* Glassmorphism utilities */
  .glass {
    background: var(--card-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .glass-border {
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Fun animations */
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes bounce-in {
    0% { transform: scale(0.9); opacity: 0; }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); opacity: 1; }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes shimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  @keyframes pulse-subtle {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.9; }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 2s ease-in-out infinite;
  }

  .animate-bounce-in {
    animation: bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-shimmer {
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* Hover glow effect */
  .hover-glow {
    position: relative;
    overflow: hidden;
  }

  .hover-glow::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .hover-glow:hover::before {
    width: 300px;
    height: 300px;
  }

  /* Touch device optimizations */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
  }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Modern scrollbar styling */
  .scrollbar-modern {
    scrollbar-width: thin;
    scrollbar-color: rgba(99, 102, 241, 0.3) transparent;
  }

  .scrollbar-modern::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-modern::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 10px;
  }

  .scrollbar-modern::-webkit-scrollbar-thumb {
    background: rgba(99, 102, 241, 0.3);
    border-radius: 10px;
    transition: background 0.2s;
  }

  .scrollbar-modern::-webkit-scrollbar-thumb:hover {
    background: rgba(99, 102, 241, 0.5);
  }

  /* Ensure minimum touch target sizes */
  @media (pointer: coarse) {
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
  }

  /* Respect user's motion preferences for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

  /* Dialog Content Styles */
  .dialog-content-settings {
    max-width: 900px !important; /* Consistent width for all settings tabs */
    max-height: calc(100vh - 2rem);
    height: auto;
    min-height: 500px;
    background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(249,250,251,0.98) 100%);
  }

  .dark .dialog-content-settings {
    background: linear-gradient(135deg, rgba(31, 41, 55, 0.98) 0%, rgba(17, 24, 39, 0.98) 100%);
  }

  /* Dialog Content Background - Common modal background */
  .dialog-content-bg {
    background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(249,250,251,0.98) 100%);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  .dark .dialog-content-bg {
    background: linear-gradient(135deg, rgba(31, 41, 55, 0.98) 0%, rgba(17, 24, 39, 0.98) 100%);
  }

  /* Card Background - Glass effect */
  .card-bg-glass {
    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(249,250,251,0.9) 100%);
  }

  .dark .card-bg-glass {
    background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.9) 100%);
  }

  /* Input Background - Glass effect */
  .input-bg-glass {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .dark .input-bg-glass {
    background: rgba(31, 41, 55, 0.9);
  }

  /* Transparent pattern background */
  .transparent-pattern {
    background: linear-gradient(45deg, #f0f0f0 25%, #fff 25%, #fff 50%, #f0f0f0 50%, #f0f0f0 75%, #fff 75%, #fff);
    background-size: 8px 8px;
  }

  .dark .transparent-pattern {
    background: linear-gradient(45deg, #374151 25%, #4b5563 25%, #4b5563 50%, #374151 50%, #374151 75%, #4b5563 75%, #4b5563);
  }

  /* Dialog Header Styles */
  .dialog-header-settings {
    padding: 1.5rem 1.5rem 1rem 1.5rem;
    border-bottom: 1px solid rgba(229, 231, 235, 1);
    flex-shrink: 0;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    position: sticky;
    top: 0;
    z-index: 20;
  }

  .dark .dialog-header-settings {
    border-bottom: 1px solid rgba(55, 65, 81, 1);
    background: rgba(31, 41, 55, 0.8);
  }

  .dialog-title-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .dialog-title-icon {
    color: var(--primary);
  }

  /* Settings Tab Styles */
  .settings-tab-button {
    width: 100%;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    font-weight: 700;
    font-size: 0.875rem;
    transition: all 0.2s;
    background: transparent;
    color: var(--text-secondary);
    border: none;
    cursor: pointer;
  }

  .dark .settings-tab-button {
    color: var(--text-secondary);
  }

  .settings-tab-button:hover {
    background: rgba(255, 255, 255, 0.5);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .dark .settings-tab-button:hover {
    background: rgba(55, 65, 81, 0.5);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }

  .settings-tab-button.active {
    background: var(--gradient-primary);
    color: white;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    transform: scale(1.05);
  }

/* Dialog/Modal z-index - outside @layer for higher specificity */
/* Using data attributes - these are unique selectors, so no !important needed */
[data-dialog-overlay] {
  z-index: 10000 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: fixed !important;
  inset: 0 !important;
}

[data-dialog-backdrop] {
  z-index: 9999;
}

[data-dialog-content] {
  z-index: 10001;
  margin: 0 auto !important;
  display: flex !important;
  justify-content: center !important;
}

/* Seasonal Themes - Outside @layer for proper specificity */
html.seasonal-christmas,
body.seasonal-christmas {
  --seasonal-bg: #fef2f2;
  --seasonal-accent: #dc2626;
  --seasonal-gradient: linear-gradient(135deg, #dc2626, #b91c1c);
}

html.seasonal-halloween,
body.seasonal-halloween {
  --seasonal-bg: #fffbeb;
  --seasonal-accent: #d97706;
  --seasonal-gradient: linear-gradient(135deg, #ea580c, #f97316);
}

html.seasonal-easter,
body.seasonal-easter {
  --seasonal-bg: #fdf2f8;
  --seasonal-accent: #ec4899;
  --seasonal-gradient: linear-gradient(135deg, #ec4899, #f472b6);
}

html.seasonal-summer,
body.seasonal-summer {
  --seasonal-bg: #fffbeb;
  --seasonal-accent: #f59e0b;
  --seasonal-gradient: linear-gradient(135deg, #f59e0b, #fbbf24);
}

html.seasonal-spring,
body.seasonal-spring {
  --seasonal-bg: #f0fdf4;
  --seasonal-accent: #22c55e;
  --seasonal-gradient: linear-gradient(135deg, #22c55e, #4ade80);
}

html.seasonal-fall,
body.seasonal-fall {
  --seasonal-bg: #fffbeb;
  --seasonal-accent: #ea580c;
  --seasonal-gradient: linear-gradient(135deg, #ea580c, #fb923c);
}

html.seasonal-winter,
body.seasonal-winter {
  --seasonal-bg: #eff6ff;
  --seasonal-accent: #3b82f6;
  --seasonal-gradient: linear-gradient(135deg, #3b82f6, #60a5fa);
}

html.seasonal-valentine,
body.seasonal-valentine {
  --seasonal-bg: #fdf2f8;
  --seasonal-accent: #ec4899;
  --seasonal-gradient: linear-gradient(135deg, #ec4899, #f472b6);
}

html.seasonal-stPatricks,
body.seasonal-stPatricks {
  --seasonal-bg: #f0fdf4;
  --seasonal-accent: #059669;
  --seasonal-gradient: linear-gradient(135deg, #059669, #10b981);
}

html.seasonal-thanksgiving,
body.seasonal-thanksgiving {
  --seasonal-bg: #fffbeb;
  --seasonal-accent: #ea580c;
  --seasonal-gradient: linear-gradient(135deg, #ea580c, #fb923c);
}

html.seasonal-newYear,
body.seasonal-newYear {
  --seasonal-bg: #faf5ff;
  --seasonal-accent: #8b5cf6;
  --seasonal-gradient: linear-gradient(135deg, #8b5cf6, #a78bfa);
}

html.seasonal-ocean,
body.seasonal-ocean {
  --seasonal-bg: #ecfeff;
  --seasonal-accent: #0891b2;
  --seasonal-gradient: linear-gradient(135deg, #0891b2, #06b6d4);
}

html.seasonal-sunset,
body.seasonal-sunset {
  --seasonal-bg: #fff7ed;
  --seasonal-accent: #f97316;
  --seasonal-gradient: linear-gradient(135deg, #f97316, #fb923c);
}

/* Apply seasonal backgrounds - using both body and html for maximum compatibility */
html.seasonal-christmas,
body.seasonal-christmas,
html body.seasonal-christmas {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-halloween,
body.seasonal-halloween,
html body.seasonal-halloween {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-easter,
body.seasonal-easter,
html body.seasonal-easter {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-summer,
body.seasonal-summer,
html body.seasonal-summer {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-spring,
body.seasonal-spring,
html body.seasonal-spring {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-fall,
body.seasonal-fall,
html body.seasonal-fall {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-winter,
body.seasonal-winter,
html body.seasonal-winter {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-valentine,
body.seasonal-valentine,
html body.seasonal-valentine {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-stPatricks,
body.seasonal-stPatricks,
html body.seasonal-stPatricks {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-thanksgiving,
body.seasonal-thanksgiving,
html body.seasonal-thanksgiving {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-newYear,
body.seasonal-newYear,
html body.seasonal-newYear {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-ocean,
body.seasonal-ocean,
html body.seasonal-ocean {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

html.seasonal-sunset,
body.seasonal-sunset,
html body.seasonal-sunset {
  background: var(--seasonal-bg) !important;
  background-color: var(--seasonal-bg) !important;
}

/* Dark mode seasonal backgrounds */
html[data-theme="dark"].seasonal-christmas,
body[data-theme="dark"].seasonal-christmas,
html body[data-theme="dark"].seasonal-christmas,
body.seasonal-christmas[data-theme="dark"] {
  background: #1a0f0f !important;
  background-color: #1a0f0f !important;
}

html[data-theme="dark"].seasonal-halloween,
body[data-theme="dark"].seasonal-halloween,
html body[data-theme="dark"].seasonal-halloween,
body.seasonal-halloween[data-theme="dark"] {
  background: #2d1b0f !important;
  background-color: #2d1b0f !important;
}

html[data-theme="dark"].seasonal-easter,
body[data-theme="dark"].seasonal-easter,
html body[data-theme="dark"].seasonal-easter,
body.seasonal-easter[data-theme="dark"] {
  background: #1f0f1a !important;
  background-color: #1f0f1a !important;
}

html[data-theme="dark"].seasonal-summer,
body[data-theme="dark"].seasonal-summer,
html body[data-theme="dark"].seasonal-summer,
body.seasonal-summer[data-theme="dark"] {
  background: #1f1a0f !important;
  background-color: #1f1a0f !important;
}

html[data-theme="dark"].seasonal-spring,
body[data-theme="dark"].seasonal-spring,
html body[data-theme="dark"].seasonal-spring,
body.seasonal-spring[data-theme="dark"] {
  background: #0f1f0f !important;
  background-color: #0f1f0f !important;
}

html[data-theme="dark"].seasonal-fall,
body[data-theme="dark"].seasonal-fall,
html body[data-theme="dark"].seasonal-fall,
body.seasonal-fall[data-theme="dark"] {
  background: #1f1a0f !important;
  background-color: #1f1a0f !important;
}

html[data-theme="dark"].seasonal-winter,
body[data-theme="dark"].seasonal-winter,
html body[data-theme="dark"].seasonal-winter,
body.seasonal-winter[data-theme="dark"] {
  background: #0f141f !important;
  background-color: #0f141f !important;
}

html[data-theme="dark"].seasonal-valentine,
body[data-theme="dark"].seasonal-valentine,
html body[data-theme="dark"].seasonal-valentine,
body.seasonal-valentine[data-theme="dark"] {
  background: #1f0f1a !important;
  background-color: #1f0f1a !important;
}

html[data-theme="dark"].seasonal-stPatricks,
body[data-theme="dark"].seasonal-stPatricks,
html body[data-theme="dark"].seasonal-stPatricks,
body.seasonal-stPatricks[data-theme="dark"] {
  background: #0f1f0f !important;
  background-color: #0f1f0f !important;
}

html[data-theme="dark"].seasonal-thanksgiving,
body[data-theme="dark"].seasonal-thanksgiving,
html body[data-theme="dark"].seasonal-thanksgiving,
body.seasonal-thanksgiving[data-theme="dark"] {
  background: #1f1a0f !important;
  background-color: #1f1a0f !important;
}

html[data-theme="dark"].seasonal-newYear,
body[data-theme="dark"].seasonal-newYear,
html body[data-theme="dark"].seasonal-newYear,
body.seasonal-newYear[data-theme="dark"] {
  background: #1a0f1f !important;
  background-color: #1a0f1f !important;
}

html[data-theme="dark"].seasonal-ocean,
body[data-theme="dark"].seasonal-ocean,
html body[data-theme="dark"].seasonal-ocean,
body.seasonal-ocean[data-theme="dark"] {
  background: #0f1a1f !important;
  background-color: #0f1a1f !important;
}

html[data-theme="dark"].seasonal-sunset,
body[data-theme="dark"].seasonal-sunset,
html body[data-theme="dark"].seasonal-sunset,
body.seasonal-sunset[data-theme="dark"] {
  background: #1f150f !important;
  background-color: #1f150f !important;
}

/* Apply seasonal accents to buttons and interactive elements */
.seasonal-christmas .hover-glow:hover::before,
.seasonal-halloween .hover-glow:hover::before,
.seasonal-easter .hover-glow:hover::before,
.seasonal-summer .hover-glow:hover::before,
.seasonal-spring .hover-glow:hover::before,
.seasonal-fall .hover-glow:hover::before,
.seasonal-winter .hover-glow:hover::before,
.seasonal-valentine .hover-glow:hover::before,
.seasonal-stPatricks .hover-glow:hover::before,
.seasonal-thanksgiving .hover-glow:hover::before,
.seasonal-newYear .hover-glow:hover::before,
.seasonal-ocean .hover-glow:hover::before,
.seasonal-sunset .hover-glow:hover::before {
  background: var(--seasonal-accent) !important;
  opacity: 0.2;
}

/* Make cards and panels pick up seasonal colors */
.seasonal-christmas .glass,
.seasonal-halloween .glass,
.seasonal-easter .glass,
.seasonal-summer .glass,
.seasonal-spring .glass,
.seasonal-fall .glass,
.seasonal-winter .glass,
.seasonal-valentine .glass,
.seasonal-stPatricks .glass,
.seasonal-thanksgiving .glass,
.seasonal-newYear .glass,
.seasonal-ocean .glass,
.seasonal-sunset .glass {
  border-color: var(--seasonal-accent) !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08), 0 0 0 1px var(--seasonal-accent) !important;
}

/* Add subtle seasonal tint to card backgrounds */
.seasonal-christmas .glass:not(header),
.seasonal-halloween .glass:not(header),
.seasonal-easter .glass:not(header),
.seasonal-summer .glass:not(header),
.seasonal-spring .glass:not(header),
.seasonal-fall .glass:not(header),
.seasonal-winter .glass:not(header),
.seasonal-valentine .glass:not(header),
.seasonal-stPatricks .glass:not(header),
.seasonal-thanksgiving .glass:not(header),
.seasonal-newYear .glass:not(header),
.seasonal-ocean .glass:not(header),
.seasonal-sunset .glass:not(header) {
  background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9)) !important;
  background-blend-mode: overlay;
}

/* Style primary buttons with seasonal colors */
.seasonal-christmas button[class*="gradient"],
.seasonal-halloween button[class*="gradient"],
.seasonal-easter button[class*="gradient"],
.seasonal-summer button[class*="gradient"],
.seasonal-spring button[class*="gradient"],
.seasonal-fall button[class*="gradient"],
.seasonal-winter button[class*="gradient"],
.seasonal-valentine button[class*="gradient"],
.seasonal-stPatricks button[class*="gradient"],
.seasonal-thanksgiving button[class*="gradient"],
.seasonal-newYear button[class*="gradient"],
.seasonal-ocean button[class*="gradient"],
.seasonal-sunset button[class*="gradient"] {
  background: var(--seasonal-gradient) !important;
}

/* Add seasonal accent to borders and highlights */
.seasonal-christmas [data-selected="true"],
.seasonal-halloween [data-selected="true"],
.seasonal-easter [data-selected="true"],
.seasonal-summer [data-selected="true"],
.seasonal-spring [data-selected="true"],
.seasonal-fall [data-selected="true"],
.seasonal-winter [data-selected="true"],
.seasonal-valentine [data-selected="true"],
.seasonal-stPatricks [data-selected="true"],
.seasonal-thanksgiving [data-selected="true"],
.seasonal-newYear [data-selected="true"],
.seasonal-ocean [data-selected="true"],
.seasonal-sunset [data-selected="true"] {
  border-color: var(--seasonal-accent) !important;
  box-shadow: 0 0 0 2px var(--seasonal-accent) !important;
}

/* ========================================
   KID MODE STYLES
   Visual Routines - Kid-Friendly UI
   ======================================== */

/* Kid Mode Background */
.kid-mode-bg {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  background-size: 200% 200%;
  animation: gradient-shift 10s ease infinite;
}

/* Kid Mode Buttons - Large Touch Targets */
.kid-button {
  min-height: 80px;
  min-width: 80px;
  font-size: 1.5rem;
  border-radius: 1rem;
  font-weight: 700;
  transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

.kid-button:active {
  transform: scale(0.95);
}

@media (hover: hover) {
  .kid-button:hover {
    transform: scale(1.05);
  }
}

/* Touch Optimizations for Kid Mode */
@media (pointer: coarse) {
  .kid-button {
    min-height: 88px;
    min-width: 88px;
  }
}

/* Kid Mode Typography */
.kid-mode h1 {
  font-size: clamp(2.5rem, 8vw, 5rem);
  line-height: 1.2;
}

.kid-mode h2 {
  font-size: clamp(2rem, 6vw, 4rem);
  line-height: 1.3;
}

.kid-mode p {
  font-size: clamp(1.25rem, 3vw, 2rem);
  line-height: 1.5;
}

/* Confetti Container */
.confetti-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
}

/* Progress Pulse Animation */
@keyframes progress-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.8;
  }
}

.progress-pulse {
  animation: progress-pulse 1s ease-in-out infinite;
}

/* Step Icon Bounce */
@keyframes step-bounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-20px) scale(1.1);
  }
}

.step-icon-bounce {
  animation: step-bounce 2s ease-in-out infinite;
}

/* Celebration Sparkle */
@keyframes celebration-sparkle {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: scale(1.5) rotate(360deg);
    opacity: 0;
  }
}

.celebration-sparkle {
  animation: celebration-sparkle 1s ease-out;
}

/* Timer Glow Effect */
@keyframes timer-glow {
  0%, 100% {
    filter: drop-shadow(0 0 5px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 20px currentColor);
  }
}

.timer-glow {
  animation: timer-glow 2s ease-in-out infinite;
}

/* Accessible Focus Styles for Kid Mode */
.kid-button:focus-visible,
.kid-mode button:focus-visible {
  outline: 4px solid rgba(255, 255, 255, 0.8);
  outline-offset: 4px;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .kid-mode-bg,
  .step-icon-bounce,
  .progress-pulse,
  .celebration-sparkle,
  .timer-glow {
    animation: none !important;
  }

  .kid-button {
    transition: none !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  .kid-button {
    border: 3px solid currentColor;
  }

  .kid-mode-bg {
    background: #4a148c;
  }
}
